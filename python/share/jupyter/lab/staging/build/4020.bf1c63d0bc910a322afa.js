(self["webpackChunk_jupyterlab_application_top"]=self["webpackChunk_jupyterlab_application_top"]||[]).push([[4020],{94020:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>Ri});var i=n(73354);var r=n(35768);var o=n(78627);var s=n(1425);var a=n(28523);var l=n(42345);var c=n(93357);var u=n(13603);var d=n(30420);var h=n(59920);var p=n(74960);class _{constructor(e,t,n){this.token=e;this.index=n;this.tokens=t}get simple_next(){return this.index+1<this.tokens.length?this.tokens[this.index+1].value:null}get simple_previous(){return this.index-1>=0?this.tokens[this.index-1].value:null}get previous(){if(!this._previous){let{token:e,index:t}=m(this.index,this.tokens,-1);this._previous=new _(e,this.tokens,t)}return this._previous}get next(){if(!this._next){let{token:e,index:t}=m(this.index,this.tokens,+1);this._next=new _(e,this.tokens,t)}return this._next}get value(){return this.token?this.token.value:undefined}get type(){return this.token.type}get offset(){return this.token.offset}get exists(){return!!this.token}}class g{constructor(e){this.supportsKernel=false;this.tokensProvider=e}isCrossFileReference(e){return false}guessReferencePath(e){return[""]}referencePathQuery(e){return""}definitionLocationQuery(e){return""}_maybe_setup_tokens(){if(!this.tokens){this.tokens=this.tokensProvider.getTokens()}}_get_token_index(e){this._maybe_setup_tokens();return this.tokens.findIndex((t=>t.value===e.value&&t.offset===e.offset&&t.type===e.type))}isDefinition(e,t){if(e.type==="variable"){let n=new _(e,this.tokens,t);let i;for(i of this.definitionRules){if(i.bind(this)(n)){return true}}return false}else if(e.type==="def"){return true}else{return false}}nameMatches(e,t){return t.value===e}getDefinitions(e){this.tokens=this.tokensProvider.getTokens();return Array.from(this.tokens).filter(((t,n)=>this.nameMatches(e,t)&&this.isDefinition(t,n)))}isAssignment(e){return e.type==="operator"&&e.value==="="}isTokenInSameAssignmentExpression(e,t){let n=new Set;for(let l=e.offset+1;l<t.offset+1;l++){let t=this.tokensProvider.getTokenAt(l);if(t.offset===e.offset){continue}n.add(t)}let i=Array.from(n);let r=i.filter(this.isAssignment);if(!r.length){return false}let o=r.sort(((e,t)=>e.offset>t.offset?1:-1))[0];let s=this._selectTerminatingTokens(i);let a=s.filter((e=>e.offset>o.offset));if(!a.length){return true}return false}}class f extends g{_selectTerminatingTokens(e){let t=[];let n=0;const i="([{";const r=")]}";for(let o of e){if(o.value!==""){if(i.includes(o.value)){n+=1;continue}else if(r.includes(o.value)){n-=1;continue}}let e=o.value===";"||o.value==="";if(n<=0&&e){t.push(o)}}return t}traverse_left(e,t){let n=t.includes(e.simple_next);while(n&&e.exists){e=e.previous;n=t.includes(e.simple_next)}return e}traverse_right(e,t){let n=t.includes(e.simple_previous);while(n&&e.exists){e=e.next;n=t.includes(e.simple_previous)}return e}}function m(e,t,n){let i=null;while(i==null){e+=n;if(e<0||e>=t.length){return{index:null,token:null}}let r=t[e];if(r.type!==""){i=r}}return{index:e,token:i}}var v=n(77857);function y(e,t,n,i=false){let r=e[t];const o="([";const s=")]";let a=0;while(r&&(r.value!==""||a>0)){if(r.value===""){}else if(o.includes(r.value)){a+=1}else if(s.includes(r.value)&&(i||a>0)){a-=1}else if(r.value===" "||r.value==="\t"){}else{let e=n(r,t);if(e!==undefined){return e}}t+=1;r=e[t]}return false}const A=`\nimport json\nfrom pathlib import Path\n\ndef jupyter_lab_consumable_path(path):\n    # if the definition is in current notebook, the path is not known on the kernel side\n    if not path:\n        return {'path': None, 'is_symlink': False}\n\n    path = Path(path)\n    cwd = Path.cwd()\n\n    # the simple case\n    if cwd in path.parents:\n        return {\n            'path': str(path.relative_to(cwd)),\n            'is_symlink': False\n        }\n\n    symlinks_dir = Path('.jupyter_symlinks')\n    symlinks_dir.mkdir(exist_ok=True)\n    # relative pathways could lead out of the starting dir as well (e.g. using .. construct on Linux)\n    path = path.absolute().resolve()\n\n    # remove anchor (root slash/drive etc)\n    sub_path = path.relative_to(path.anchor)\n\n    # TODO: add drive to avoid confusion on Windows\n    symlink = symlinks_dir / sub_path\n    symlink.parent.mkdir(exist_ok=True, parents=True)\n    try:\n        symlink.unlink()\n    except FileNotFoundError:\n        pass\n    assert not symlink.is_absolute()\n    symlink.symlink_to(path)\n    return {\n        'path': str(symlink),\n        'is_symlink': True\n    }\n`;class b extends f{constructor(){super(...arguments);this.definitionRules=[this.isStandaloneAssignment,this.isImport,this.isWithStatement,this.isForLoopOrComprehension,this.isTupleUnpacking,this.isStoreMagic,this.isRMagicOutput];this.supportsKernel=true}isStandaloneAssignment(e){let{next:t}=e;return t.exists&&this.isAssignment(t)}_is_magic_switch(e,t,n=20){while(n&&e.exists){if(e.value===t&&e.simple_previous==="-"){break}e=e.previous;n-=1}let i=n!==0;return{is_switch:i,switch:i?e:null}}_is_magic_export(e,t,n,i=1){let{previous:r}=e;let o=this._is_magic_switch(r,n,i);if(!o.is_switch){return false}let s=o.switch.previous.previous;let a=s.simple_previous;return s.value===t&&a==="%"}isStoreMagic(e){return this._is_magic_export(e,"store","r",20)}isRMagicOutput(e){return this._is_magic_export(e,"R","o",1)}isImport(e){let{previous:t}=e;return t.exists&&t.type==="keyword"&&t.value==="import"}isCrossFileReference(e){let t=e.previous;let n=e.next;t=this.traverse_left(t,".");n=this.traverse_right(n,".");if(t.exists&&t.type==="keyword"&&t.value==="from"&&n.exists&&n.type==="keyword"&&n.value==="import"){return true}let i=t.previous.previous;if(this.isImport(t.next)&&!(i.exists&&i.type==="keyword"&&i.value==="from")){return true}return false}_breadcrumbs(e,t=false){let{previous:n,token:i}=e;let r=[];let o=n.simple_next===".";while(o&&n.exists){r.push(n.value);n=n.previous;o=n.simple_next==="."}if(t){if(n.simple_previous==="."){r.push("")}if(n.simple_previous===".."){r.push(".")}}r=r.reverse();r.push(i.value);return r}_imports_breadcrumbs(e){return this._breadcrumbs(e,true)}definitionLocationQuery(e){let t=this._breadcrumbs(e);let n=t.join(".");if(/^[a-zA-Z_.]+$/.test(n)){return A+`\n\ndef _extract_object(breadcrumbs, available_objects):\n    obj = available_objects[breadcrumbs[0]]\n\n    for name in breadcrumbs[1:]:\n        obj = getattr(obj, name)\n    return obj\n\n\ndef _locate_definition(name):\n    """Returns (line_number, path, is_sym_link) tuple"""\n    from inspect import getsourcefile, getsourcelines\n\n    available_objects = globals()\n    input_number = None\n\n    try:\n        obj = _extract_object(name.split('.'), available_objects)\n    except (KeyError, AttributeError):\n        return\n\n    try:\n        path = getsourcefile(obj)\n        path_exists = Path(path).exists()\n        if not path_exists:\n            assert path.startswith('<ipython-input-')\n            input_number = int(path.split('-')[2])\n            path = None\n    except (TypeError, AssertionError):\n        path = None\n\n    try:\n        source, line_number = getsourcelines(obj)\n    except OSError:\n        line_number = 0\n\n    return {\n        'line_number': line_number,\n        'input_number': input_number,\n        'column': len(source[0]) - len(source[0].lstrip()),\n        **jupyter_lab_consumable_path(path)\n    }\n\nprint(json.dumps(_locate_definition('`+n+`')), end='')\n`}}referencePathQuery(e){let t=this._imports_breadcrumbs(e);let n=t.join(".");if(/^[a-zA-Z_.]+$/.test(n)){return A+`\ndef _get_path(value):\n    """Returns (path, is_sym_link) tuple"""\n    from importlib.util import find_spec\n\n    path = find_spec(value).origin\n\n    return jupyter_lab_consumable_path(path)\n\nprint(json.dumps(_get_path('`+n+`')), end='')\n`}}guessReferencePath(e){let t=this._imports_breadcrumbs(e);let n=t.join("/");return[n+".py",v.PathExt.join(n,"__init__.py")]}isWithStatement(e){let{previous:t}=e;return t.exists&&t.type==="keyword"&&t.value==="as"}isForLoopOrComprehension(e){let{previous:t,next:n}=e;return t.exists&&t.type==="keyword"&&t.value==="for"&&n.exists&&n.type==="keyword"&&n.value==="in"}isTupleUnpacking(e){let{tokens:t,index:n}=e;let i=true;return y(t,n+1,((e,n)=>{if(e.type==="operator"&&e.value==="="){let e;y(t,n+1,(t=>{e=t}));if(!e||e.value!==")"){return true}}if(i&&e.value!==","){return false}i=!i}),true)}}class k extends f{constructor(){super(...arguments);this.definitionRules=[this.isStandaloneAssignment,this.isImport,this.isForLoop]}isAssignment(e){return e.type==="operator"&&e.value==="="||e.type==="operator arrow"&&(e.value==="<-"||e.value==="<<-")}isStandaloneAssignment(e){let{previous:t,next:n}=e;return n.exists&&this.isAssignment(n)||t.exists&&t.type==="operator arrow"&&(t.value==="->"||t.value==="->>")}isImport(e){let{previous:t}=e;if(t.exists&&t.type==="variable"&&(t.value==="library"||t.value==="require")){return true}t=this.traverse_left(t,", ");if(t.exists&&t.value==="here"&&t.type==="variable"&&t.previous.value==="::"&&t.previous.previous.value==="import"){return true}return false}isForLoop(e){let{previous:t,next:n}=e;return t.exists&&t.type==="keyword"&&t.value==="for"&&n.exists&&n.type==="keyword"&&n.value==="in"}guessReferencePath(e){let{next:t}=e;if(e.value==="source"){return[t.next.value.slice(0,-1)]}return[t.next.next.value.slice(0,-1)]}isCrossFileReference(e){let{next:t}=e;if(e.type==="variable"&&e.value==="source"&&t.exists&&(t.value==="'"||t.value==='"')&&t.next.exists){return true}if(this.isImport(e.previous)){return true}return false}}function w(e){switch(e){case"python":{return b}case"R":{return k}default:{console.warn(e+" is not supported yet by go-to-definition extension.");return b}}}var x=n(57886);var C=n.n(x);class E{constructor(e){this.editor=e}getTokens(){return this.editor.getTokens()}getTokenAt(e){let t=this.editor.getPositionAt(e);return this.editor.getTokenForPosition(t)}}const j="_go_to_are_handlers_on";function S(e,t){if(e.getModifierState!==undefined){return e.getModifierState(t)}switch(t){case"Shift":return e.shiftKey;case"Alt":return e.altKey;case"Control":return e.ctrlKey;case"Meta":return e.metaKey;default:console.warn(`unknown modified key ${t}`)}}class I extends E{constructor(e,t){super(e);this.jumper=t}static configure(){C().defineOption(j,false,(()=>{}))}connect(){let e=this.editor.editor;if(e.getOption(j)){return}e.setOption(j,true);C().on(e,"mousedown",((e,t)=>{let n=t.target;const{button:i}=t;if(i===0&&S(t,I.modifierKey)){const e=["cm-variable","cm-property"];if(e.indexOf(n.className)!==-1){let e=n.textContent;let i=this.selectToken(e,n);this.jumper.jump_to_definition({token:i,mouseEvent:t,origin:n})}t.preventDefault();t.stopPropagation()}}))}selectToken(e,t){let n=this.editor.getTokens();let i=t.className.includes("cm-variable")||t.className.includes("cm-property");let r=t.className.indexOf("cm-variable")!==-1?"variable":"property";let o="cm-"+r;let s=I._countUsagesBefore(e,t,o,i);let a=null;let l=0;for(let c=0;c<n.length;c++){let t=n[c];if(t.value===e&&(!i||r===t.type)){l+=1;if(l-1===s){a=t;break}}}if(a.value!==e){console.error(`Token ${a.value} does not match element ${e}`);a={value:e,offset:0,type:r}}return a}static _countUsagesBefore(e,t,n,i){let r=-1;let o=t;const s=o.getRootNode();let a=1e4;function l(e){return!e||e.nodeType===1&&e.className.includes("CodeMirror-lines")}while(!l(o)&&!o.isEqualNode(s)&&a){if(o.textContent===e&&(!i||o.nodeType===1&&o.className.includes(n))){r+=1}let t=o.previousSibling;while(t==null){while(!o.previousSibling){o=o.parentNode;if(l(o)){return r}}o=o.previousSibling;while(o.lastChild&&o.textContent!==e){o=o.lastChild}t=o}o=t;a-=1}return r}}function L(e){return e.length>=3&&e[0].value==="%"&&e[1].value==="%"||e.length>=2&&e[0].value==="%%"}const T={bash:"bash",R:"r",python:"python",python2:{name:"python",version:2},python3:{name:"python",version:3},javascript:"javascript",js:"javascript",svg:"application/xml",html:"text/html",latex:"text/x-stex"};const B=["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End","PageUp","PageDown"];const M=["Alt","AltGraph","Control","Shift"];const P=["F1","F2","F3","F4"," F5","F6","F7","F8","F9","F10","F11","F12","ContextMenu"];class R{_getLanguageAnalyzerForCell(e){let t=this.language;let n=e.getTokens();if(L(n)){let i=n[0].value==="%"?n[2].value:n[1].value;if(T.hasOwnProperty(i)){t=i;let n=e;n.editor.setOption("mode",T[t])}}let i=w(t);let r=new I(e,this);return new i(r)}_findLastDefinition(e,t){let n=null;let i=null;const r=e;for(let o=0;o<=t;o++){let s=this.editors[o];let a=this._getLanguageAnalyzerForCell(s);let l=a.getDefinitions(e.value);if(l.length){let s=o<t;let c=s?l:l.filter((e=>e.offset<r.offset));c=c.filter((n=>{if(o<t){return true}return!a.isTokenInSameAssignmentExpression(n,e)}));if(c.length){n=c[c.length-1];i=o}else if(!n&&o===t){n=e;i=o}}}return{token:n,cellIndex:i}}go_to_position(e,t,n,i,r=0){let o;let s={line:i,column:n};let a=O.get(t);o=new a(e,this.document_manager);let l=o.getJumpPosition(s,r);o.jump(l)}global_jump(e,t=false){let n=this.document_manager.openOrReveal(e.uri);n.revealed.then((()=>{this.go_to_position(n,"fileeditor",e.column,e.line,e.editor_index);if(t){let e=n;e.title.label=e.title.label+" (external)";let t=e.content.editor;let i=t.addKeydownHandler(((e,t)=>{if(B.indexOf(t.key)!==-1||M.indexOf(t.key)!==-1||P.indexOf(t.key)!==-1){return false}if(t.key==="c"&&t.ctrlKey){return false}let n=(0,r.showDialog)({title:"Edit external file?",body:"This file is located outside of the root of the JupyterLab start directory. "+"do you really wish to edit it?",buttons:[r.Dialog.cancelButton({label:"Cancel"}),r.Dialog.warnButton({label:"Edit anyway"})]});n.then((e=>{if(e.button.accept){i.dispose()}})).catch(console.warn);return true}))}})).catch(console.warn)}try_to_open_document(e,t,n=0,i=null,r=0){if(i&&!e&&this.constructor.name==="NotebookJumper"){this.go_to_position(this.widget,"notebook",r,n,i)}else{this.document_manager.services.contents.get(e,{content:false}).then((()=>{this.global_jump({editor_index:i,line:n,column:r,uri:e},t)})).catch((()=>{}))}}handle_path_from_kernel(e,t){let n=e.content;if(n.name==="stdout"){let e=JSON.parse(n.text);this.try_to_open_document(e["path"],e["is_symlink"])}else if(e.header.msg_type==="error"){console.error("Failed to resolve the paths from kernel; falling back to guessing the path locations");console.log(e);for(let e of t){this.try_to_open_document(e,false)}}}get kernel(){return null}queryKernel(e,t,n){let i={code:e,stop_on_error:false,silent:true};let r=t.requestExecute(i);r.onIOPub=n}jump_to_cross_file_reference(e,t){let n=t.guessReferencePath(e);if(this.cwd){let e=n.map((e=>this.cwd+"/"+e));n=e.concat(n)}let i=t.referencePathQuery(e);if(t.supportsKernel&&this.kernel&&i){this.queryKernel(i,this.kernel,(e=>this.handle_path_from_kernel(e,n)))}else{for(let e of n){this.try_to_open_document(e,false)}}}handle_kernel_inspect(e,t){let n=e.content;if(n.name==="stdout"){let e=JSON.parse(n.text);if(!e){t()}let i=e["line_number"];this.try_to_open_document(e["path"],e["is_symlink"],i-1,e["input_number"],e["column"])}else if(e.header.msg_type==="error"){console.error("Failed to resolve the paths from kernel; falling back to guessing the path locations");console.log(e);t()}}inspect_and_jump(e,t,n,i){let r=t.definitionLocationQuery(e);if(t.supportsKernel&&this.kernel&&r){this.queryKernel(r,this.kernel,(e=>this.handle_kernel_inspect(e,n)))}else{n()}i()}}let O=new Map;const D="jumpy_history";class N{constructor(e){this.model_db=e}ensure_history_is_ready(){if(this.jump_history===undefined){if(this.model_db.has(D)){this.jump_history=this.model_db.get(D)}else{this.jump_history=this.model_db.createList(D)}}}store(e){this.ensure_history_is_ready();this.jump_history.push(JSON.stringify(e))}recollect(){this.ensure_history_is_ready();if(this.jump_history.length===0){return}let e=this.jump_history.get(this.jump_history.length-1);this.jump_history.undo();return JSON.parse(e)}}class K extends R{constructor(e,t){super();this.widget=e;this.document_manager=t;this.editor=e.content;this.history=new N(this.editor.model.modelDB);this.setLanguageFromMime(this.editor.model.mimeType);this.editor.model.mimeTypeChanged.connect(((e,t)=>{this.setLanguageFromMime(t.newValue)}))}get path(){return this.widget.context.path}get cwd(){return v.PathExt.dirname(this.path)}setLanguageFromMime(e){let t=e.replace("text/x-","");switch(t){case"rsrc":this.language="R";break;default:this.language=t}}get editors(){return[this.editor.editor]}jump(e){let{token:t}=e;let n=this.editor.editor.getPositionAt(t.offset);this.editor.editor.setSelection({start:n,end:n});this.editor.editor.focus()}jump_to_definition(e){let t=this.editors[0];let n=this._getLanguageAnalyzerForCell(t);n._maybe_setup_tokens();let i=new _(e.token,n.tokens,n._get_token_index(e.token));if(n.isCrossFileReference(i)){this.jump_to_cross_file_reference(i,n)}else{let{token:t}=this._findLastDefinition(e.token,0);if(!t){return}this.history.store({token:e.token});this.jump({token:t})}}jump_back(){let e=this.history.recollect();if(e){this.jump(e)}}getOffset(e){return this.editor.editor.getOffsetAt(e)}getJumpPosition(e){return{token:{offset:this.getOffset(e),value:""},index:0}}}O.set("fileeditor",K);var U=n(54522);function F(e,t=false){let n=e.activeCell;if(e.mode==="edit"&&n){if(!n.editor.hasFocus()){n.editor.focus()}}if(t&&!e.node.contains(document.activeElement)){e.node.focus()}}const q="jp-Notebook-cell";function W(e,t){while(t&&t!==e.node){if(t.classList.contains(q)){let n=U.ArrayExt.findFirstIndex(e.widgets,(e=>e.node===t));if(n!==-1){return n}break}t=t.parentElement}return-1}function $(e,t){let n=t.target;let i=W(e,n);if(i===-1){n=document.elementFromPoint(t.clientX,t.clientY);i=W(e,n)}return{target:n,index:i}}class H extends R{constructor(e,t){super();this.widget=e;this.notebook=e.content;this.history=new N(this.notebook.model.modelDB);this.document_manager=t}get kernel(){var e;return(e=this.widget.context.sessionContext.session)===null||e===void 0?void 0:e.kernel}get cwd(){return this.widget.model.modelDB.basePath.split("/").slice(0,-1).join("/")}get editors(){return this.notebook.widgets.map((e=>e.editor))}get language(){let e=this.notebook.model.metadata.get("language_info");return e.name}jump(e){let{token:t,index:n}=e;setTimeout((()=>{this.notebook.deselectAll();this.notebook.activeCellIndex=n;F(this.notebook);this.notebook.mode="edit";let e=this.notebook.activeCell.editor;let i=e.getPositionAt(t.offset);e.setSelection({start:i,end:i})}),0)}jump_to_definition(e,t){if(t===undefined){if(e.mouseEvent!==undefined){t=$(this.notebook,e.mouseEvent).index}else{t=W(this.notebook,e.origin)}}let n=this.editors[t];let i=this._getLanguageAnalyzerForCell(n);i._maybe_setup_tokens();let r=new _(e.token,i.tokens,i._get_token_index(e.token));let o=()=>{this.history.store({token:e.token,index:t})};if(i.isCrossFileReference(r)){this.jump_to_cross_file_reference(r,i)}else{this.inspect_and_jump(r,i,(()=>{let{token:n,cellIndex:i}=this._findLastDefinition(e.token,t);if(!n){return}this.jump({token:n,index:i})}),o)}}jump_back(){let e=this.history.recollect();if(e){this.jump(e)}}getOffset(e,t=0){return this.editors[t].getOffsetAt(e)}getJumpPosition(e,t){let n=this.widget.model.cells.iter();let i=n.next();let r=0;let o;while(i){if(i.type==="code"){let e=i;if(e.executionCount===t){o=r;break}}i=n.next();r+=1}return{token:{offset:this.getOffset(e,o),value:""},index:o}}}O.set("notebook",H);var z=n(93379);var J=n.n(z);var V=n(73327);var Z={};Z.insert="head";Z.singleton=false;var G=J()(V.Z,Z);const X=V.Z.locals||{};var Y=n(77865);var Q=n.n(Y);var ee=n(51454);var te={};te.insert="head";te.singleton=false;var ne=J()(ee.Z,te);const ie=ee.Z.locals||{};class re extends r.VDomRenderer{constructor(e){super(e);this.addClass(p.item);this.addClass("kite-statusbar-item");this.title.caption="Kite Status"}render(){if(!this.model){return null}const e=this.model.activeDocument;if(e&&!(e.file_extension==="py")){this.setHidden(true);return null}this.model.fetchKiteInstalled();const t={};if(this.model.reloadRequired){t.style={cursor:"pointer"};t.onClick=()=>window.location.reload()}return Q().createElement(p.GroupItem,Object.assign({},t,{spacing:4,title:this.model.message.tooltip}),Q().createElement(this.model.icon.react,{top:"2px",kind:"statusBar"}),Q().createElement(p.TextItem,{source:this.model.message.text}))}}var oe=n(76105);var se=n(49030);var ae;(function(e){e.URL_NS="lsp"})(ae||(ae={}));const le='<svg width="24px" height="24px" viewBox="0 0 400 400" xmlns="http://www.w3.org/2000/svg">\n    <g id="kite-logo" transform="translate(53,14)">\n        <polygon id="Path" points="150.433658 147.335971 90.1889836 260.668594 221.53804 372.861838 264.798844 205.622337 150.433658 147.335971"></polygon>\n        <polygon id="Path" points="104.003956 0 0 183.653682 79.7565429 251.767194 146.303408 134.23311 268.252587 192.341449 294.529519 90.7942788 104.003956 0"></polygon>\n    </g>\n</svg>';class ce extends r.VDomModel{constructor(){super();this._icon=new se.LabIcon({name:"jupyterlab-kite:status-icon",svgstr:le});this._kiteStatus=null;this._installed=true;this._disconnected=false;this._connectionClosed=()=>{this._disconnected=true;this._onChange()};this._onChange=()=>{this.stateChanged.emit(void 0)};this._adapter=null;this.icon.bindprops({className:"kite-logo"})}async fetchKiteInstalled(){if(this._disconnected){return}const e=await oe.ServerConnection.makeRequest(this.kiteInstalledUrl,{method:"GET"},oe.ServerConnection.makeSettings());if(!e.ok){console.warn("Could not fetch Kite Install status:",e.statusText)}let t;try{t=await e.json();if(this._installed!==t){this._installed=t;this._onChange()}}catch(n){console.warn(n)}}get kiteInstalledUrl(){return v.URLExt.join(v.PageConfig.getBaseUrl(),ae.URL_NS,"kite_installed")}set status(e){this._kiteStatus=e;this._onChange()}get icon(){return this._icon}get reloadRequired(){return this._disconnected}get message(){if(this._disconnected){return{text:"Kite: disconnected (reload page)",tooltip:"The connection to Kite was interrupted. Save your changes and reload the page to reconnect."}}if(this.adapter&&this._kiteStatus){return{text:"Kite: "+this._kiteStatus.short,tooltip:this._kiteStatus.long}}if(!this._installed){return{text:"Kite: not installed",tooltip:"Kite install could not be found."}}return{text:"Kite: not running",tooltip:"Kite is not reachable."}}get adapter(){return this._adapter}set adapter(e){if(this._adapter!=null){this._adapter.status_message.changed.connect(this._onChange)}if(e!=null){e.status_message.changed.connect(this._onChange)}this._adapter=e}get connection_manager(){return this._connection_manager}set connection_manager(e){if(this._connection_manager!=null){this._connection_manager.connected.disconnect(this._onChange);this._connection_manager.initialized.connect(this._onChange);this._connection_manager.closed.disconnect(this._connectionClosed);this._connection_manager.documents_changed.disconnect(this._onChange)}if(e!=null){e.connected.connect(this._onChange);e.initialized.connect(this._onChange);e.closed.connect(this._connectionClosed);e.documents_changed.connect(this._onChange)}this._connection_manager=e}get activeDocument(){if(this.adapter&&this.adapter.virtual_editor){return this.adapter.virtual_editor.virtual_document}return undefined}get activeConnection(){if(this.activeDocument){return this.connection_manager.connections.get(this.activeDocument.id_path)}return undefined}}class ue extends Map{constructor(e){super(e.map((e=>[new RegExp(e.pattern),e.replacement])))}_override_for(e){for(let[t,n]of this){if(e.match(t)){return e.replace(t,n)}}return null}}class de extends ue{constructor(e){super(e);this.overrides=e}get reverse(){return this.type(this.overrides.map((e=>e.reverse)))}}class he extends de{type(e){return new he(e)}override_for(e){return super._override_for(e)}}class pe extends de{type(e){return new pe(e)}override_for(e){return super._override_for(e)}replace_all(e,t=this){let n=new Array;let i=new Array;for(let r=0;r<e.length;r++){let o=e[r];let s=t.override_for(o);n.push(s==null?o:s);i.push(s!=null)}return{lines:n,skip_inspect:i}}reverse_replace_all(e){return this.replace_all(e,this.reverse).lines}}var _e=n(4576);var ge=n(18987);class fe{constructor(e){this.on_new_connection=e=>{e.on("error",(t=>{console.warn(t);let n=t.length&&t.length>=1?t[0]:new Error;if(n.message.indexOf("code = 1005")!==-1){console.warn(`LSP: Connection failed for ${e}`)}else if(n.message.indexOf("code = 1006")!==-1){console.warn("LSP: Connection closed by the server ")}else{console.error("LSP: Connection error:",t)}this.forEachDocumentOfConnection(e,(t=>{console.warn("LSP: disconnecting "+t.id_path);this.closed.emit({connection:e,virtual_document:t});this.ignored_languages.add(t.language);console.warn(`Cancelling further attempts to connect ${t.id_path} and other documents for this language (no support from the server)`)}))}));e.on("serverInitialized",(t=>{this.forEachDocumentOfConnection(e,(t=>{this.initialized.emit({connection:e,virtual_document:t})}))}));e.on("close",(t=>{if(!t){console.warn("LSP: Connection unexpectedly disconnected")}else{console.warn("LSP: Connection closed");this.forEachDocumentOfConnection(e,(t=>{this.closed.emit({connection:e,virtual_document:t})}))}}))};this.connections=new Map;this.documents=new Map;this.ignored_languages=new Set;this.connected=new ge.Signal(this);this.initialized=new ge.Signal(this);this.closed=new ge.Signal(this);this.documents_changed=new ge.Signal(this);this.language_server_manager=e.language_server_manager;this.kite_status_model=e.kite_status_model;me.setLanguageServerManager(e.language_server_manager)}connect_document_signals(e){e.foreign_document_opened.connect(this.on_foreign_document_opened,this);e.foreign_document_closed.connect(this.on_foreign_document_closed,this);this.documents.set(e.id_path,e);this.documents_changed.emit(this.documents)}disconnect_document_signals(e,t=true){e.foreign_document_opened.disconnect(this.on_foreign_document_opened,this);e.foreign_document_closed.disconnect(this.on_foreign_document_closed,this);this.documents.delete(e.id_path);for(const n of e.foreign_documents.values()){this.disconnect_document_signals(n,false)}if(t){this.documents_changed.emit(this.documents)}}on_foreign_document_opened(e,t){console.log("LSP: ConnectionManager received foreign document: ",t.foreign_document.id_path)}on_foreign_document_closed(e,t){const{foreign_document:n}=t;this.disconnect_document_signals(n)}async connect_socket(e){console.log("LSP: Connection Socket",e);let{virtual_document:t,language:n}=e;this.connect_document_signals(t);const i=fe.solve_uris(t,n);const r=this.language_server_manager.getServerId({language:n});const o=await me.connection(n,r,i,this.on_new_connection,this.kite_status_model);this.connections.set(t.id_path,o);return o}forEachDocumentOfConnection(e,t){for(const[n,i]of this.connections.entries()){if(e!==i){continue}const r=this.documents.get(n);if(r){t(r)}}}async retry_to_connect(e,t,n=-1){let{virtual_document:i}=e;if(this.ignored_languages.has(i.language)){return}let r=t*1e3;let o=false;while(n!==0&&!o){await this.connect(e).then((()=>{o=true})).catch((e=>{console.warn(e)}));console.log("LSP: will attempt to re-connect in "+r/1e3+" seconds");await(0,_e._v)(r);r=r<5*1e3?r+500:r}}async connect(e){console.log("LSP: connection requested",e);let t=await this.connect_socket(e);let{virtual_document:n,document_path:i}=e;if(!t.isReady){try{await(0,_e.EU)((()=>t.isReady),200,200)}catch(r){console.warn(`LSP: Connect timed out for ${n.id_path}`);return}}console.log("LSP:",i,n.id_path,"connected.");this.connected.emit({connection:t,virtual_document:n});return t}unregister_document(e){this.connections.delete(e.id_path);this.documents_changed.emit(this.documents)}}(function(e){function t(e,t){const n=v.PageConfig.getBaseUrl().replace(/^http/,"ws");const i=v.PageConfig.getOption("rootUri");const r=v.PageConfig.getOption("virtualDocumentsUri");const o=e.has_lsp_supported_file?i:r;const s=me.getLanguageServerManager().getServerId({language:t});return{base:o,document:v.URLExt.join(o,e.uri),server:v.URLExt.join("ws://jupyter-kite",t),socket:v.URLExt.join(n,ae.URL_NS,"ws",s)}}e.solve_uris=t})(fe||(fe={}));var me;(function(e){const t=new Map;let i;let r;function o(){return r}e.getLanguageServerManager=o;function s(e){r=e}e.setLanguageServerManager=s;async function a(e,r,o,s,a){if(i==null){i=Promise.all([n.e(6470),n.e(8016)]).then(n.bind(n,11976))}const{LSPConnection:l}=await i;let c=t.get(r);if(c==null){const n=new WebSocket(o.socket);const i=new l({languageId:e,serverUri:o.server,rootUri:o.base,kite_status_model:a});i.setMaxListeners(999);t.set(r,i);i.connect(n);s(i)}c=t.get(r);return c}e.connection=a})(me||(me={}));function ve(e,t){if(t.start.line===t.end.line){return e.line===t.start.line&&e.column>=t.start.column&&e.column<=t.end.column}return e.line===t.start.line&&e.column>=t.start.column&&e.line<t.end.line||e.line>t.start.line&&e.column<=t.end.column&&e.line===t.end.line||e.line>t.start.line&&e.line<t.end.line}class ye{constructor(e){this.version=0;this._document=e}get text(){return this._document.value}get uri(){const e=fe.solve_uris(this._document,this.languageId);return e.document}get languageId(){return this._document.language}}class Ae{constructor(e,t,n,i,r,o,s,a){this.path=t;this.file_extension=o;this.has_lsp_supported_file=s;this.parent=a;this.isDisposed=false;this.blank_lines_between_cells=2;this.language=e;let l=e in n?n[e]:null;this.cell_magics_overrides=new he(l?l.cell_magics:[]);this.line_magics_overrides=new pe(l?l.line_magics:[]);this.foreign_extractors_registry=i;this.foreign_extractors=this.language in this.foreign_extractors_registry?this.foreign_extractors_registry[this.language]:[];this.virtual_lines=new Map;this.source_lines=new Map;this.foreign_documents=new Map;this.overrides_registry=n;this.standalone=r;this.instance_id=Ae.instances_count;Ae.instances_count+=1;this.unused_standalone_documents=new _e.Gl((()=>new Array));this._remaining_lifetime=10;this.foreign_document_closed=new ge.Signal(this);this.foreign_document_opened=new ge.Signal(this);this.changed=new ge.Signal(this);this.unused_documents=new Set;this.document_info=new ye(this);this.clear()}dispose(){if(this.isDisposed){return}this.parent=null;for(const e of this.foreign_documents.values()){e.dispose()}this.close_all_foreign_documents();this.foreign_documents.clear();this.source_lines.clear();this.unused_documents.clear();this.unused_standalone_documents.clear();this.virtual_lines.clear();this.cell_magics_overrides=null;this.document_info=null;this.foreign_extractors=null;this.foreign_extractors_registry=null;this.line_magics_overrides=null;this.lines=null;this.overrides_registry=null;this.isDisposed=true}get remaining_lifetime(){if(!this.parent){return Infinity}return this._remaining_lifetime}set remaining_lifetime(e){if(this.parent){this._remaining_lifetime=e}}clear(){this.unused_standalone_documents.clear();for(let e of this.foreign_documents.values()){e.clear();if(e.standalone){let t=this.unused_standalone_documents.get(e.language);t.push(e)}}this.unused_documents=new Set(this.foreign_documents.values());this.virtual_lines.clear();this.source_lines.clear();this.last_virtual_line=0;this.last_source_line=0;this.lines=[]}forward_closed_signal(e,t){this.foreign_document_closed.emit(t)}forward_opened_signal(e,t){this.foreign_document_opened.emit(t)}open_foreign(e,t,n){let i=new Ae(e,this.path,this.overrides_registry,this.foreign_extractors_registry,t,n,false,this);const r={foreign_document:i,parent_host:this};this.foreign_document_opened.emit(r);i.foreign_document_closed.connect(this.forward_closed_signal,this);i.foreign_document_opened.connect(this.forward_opened_signal,this);this.foreign_documents.set(i.virtual_id,i);return i}document_at_source_position(e){let t=this.source_lines.get(e.line);if(t==null){return this}let n={line:t.editor_line,column:e.ch};for(let[i,{virtual_document:r}]of t.foreign_documents_map){if(ve(n,i)){let e={line:n.line-i.start.line,ch:n.column-i.start.column};return r.document_at_source_position(e)}}return this}is_within_foreign(e){let t=this.source_lines.get(e.line);let n={line:t.editor_line,column:e.ch};for(let[i]of t.foreign_documents_map){if(ve(n,i)){return true}}return false}virtual_position_at_document(e){let t=this.source_lines.get(e.line);let n=t.virtual_line;let i={line:t.editor_line,column:e.ch};for(let[r,{virtual_line:o,virtual_document:s}]of t.foreign_documents_map){if(ve(i,r)){let e={line:i.line-r.start.line,ch:i.column-r.start.column};if(s.is_within_foreign(e)){return this.virtual_position_at_document(e)}else{e.line+=o;return e}}}return{ch:e.ch,line:n}}choose_foreign_document(e){let t;let n=this.foreign_documents.has(e.language);if(!e.standalone&&n){t=this.foreign_documents.get(e.language);this.unused_documents.delete(t)}else{let n=this.unused_standalone_documents.get(e.language);if(e.standalone&&n.length>0){t=n.pop();this.unused_documents.delete(t)}else{t=this.open_foreign(e.language,e.standalone,e.file_extension)}}return t}extract_foreign_code(e,t,n){let i=new Map;for(let r of this.foreign_extractors){if(!r.has_foreign_code(e)){continue}let o=r.extract_foreign_code(e);let s="";for(let e of o){if(e.foreign_code!==null){let o=this.choose_foreign_document(r);i.set(e.range,{virtual_line:o.last_virtual_line,virtual_document:o});let s={line:n.line+e.range.start.line,column:n.column+e.range.start.column};o.append_code_block(e.foreign_code,t,s,e.virtual_shift)}if(e.host_code!=null){s+=e.host_code}}e=s}return{cell_code_kept:e,foreign_document_map:i}}decode_code_block(e){let t=this.cell_magics_overrides.reverse.override_for(e);if(t!=null){return t}else{let t=this.line_magics_overrides.reverse_replace_all(e.split("\n"));return t.join("\n")}}prepare_code_block(e,t,n={line:0,column:0}){let i;let r;let{cell_code_kept:o,foreign_document_map:s}=this.extract_foreign_code(e,t,n);e=o;let a=this.cell_magics_overrides.override_for(e);if(a!=null){i=a.split("\n");r=i.map((e=>[this.id_path]))}else{let t=this.line_magics_overrides.replace_all(e.split("\n"));i=t.lines;r=t.skip_inspect.map((e=>e?[this.id_path]:[]))}return{lines:i,foreign_document_map:s,skip_inspect:r}}append_code_block(e,t,n={line:0,column:0},i){var r,o;let s=e.split("\n");let{lines:a,foreign_document_map:l,skip_inspect:c}=this.prepare_code_block(e,t,n);for(let u=0;u<a.length;u++){this.virtual_lines.set(this.last_virtual_line+u,{skip_inspect:c[u],editor:t,source_line:this.last_source_line+u})}for(let u=0;u<s.length;u++){this.source_lines.set(this.last_source_line+u,{editor_line:u,editor_shift:{line:n.line-(((r=i)===null||r===void 0?void 0:r.line)||0),column:u===0?n.column-(((o=i)===null||o===void 0?void 0:o.column)||0):0},editor:t,foreign_documents_map:l,virtual_line:this.last_virtual_line+u})}this.last_virtual_line+=a.length;this.lines.push(a.join("\n")+"\n");for(let u=0;u<this.blank_lines_between_cells;u++){this.virtual_lines.set(this.last_virtual_line+u,{skip_inspect:[this.id_path],editor:t,source_line:null})}this.last_virtual_line+=this.blank_lines_between_cells;this.last_source_line+=s.length}get value(){let e="\n".repeat(this.blank_lines_between_cells);return this.lines.join(e)}getTokenAt(e){let t=this.get_editor_at_virtual_line(e);let n=this.transform_virtual_to_editor(e);return t.getTokenAt(n)}close_expired_documents(){for(let e of this.unused_documents.values()){e.remaining_lifetime-=1;if(e.remaining_lifetime<=0){this.close_foreign(e)}}}close_foreign(e){console.log("LSP: closing document",e);this.foreign_document_closed.emit({foreign_document:e,parent_host:this});this.foreign_documents.delete(e.virtual_id);e.close_all_foreign_documents();e.foreign_document_closed.disconnect(this.forward_closed_signal,this);e.foreign_document_opened.disconnect(this.forward_opened_signal,this)}close_all_foreign_documents(){for(let e of this.foreign_documents.values()){this.close_foreign(e)}}get virtual_id(){return this.standalone?this.instance_id+"("+this.language+")":this.language}get ancestry(){if(!this.parent){return[this]}return this.parent.ancestry.concat([this])}get id_path(){if(!this.parent){return this.virtual_id}return this.parent.id_path+"-"+this.virtual_id}get uri(){if(!this.parent){return this.path}return this.path+"."+this.id_path+"."+this.file_extension}transform_source_to_editor(e){let t=this.source_lines.get(e.line);let n=t.editor_line;let i=t.editor_shift;return{ch:e.ch+(n===0?i.column:0),line:n+i.line}}transform_virtual_to_editor(e){let t=this.transform_virtual_to_source(e);return this.transform_source_to_editor(t)}transform_virtual_to_source(e){return{ch:e.ch,line:this.virtual_lines.get(e.line).source_line}}get root(){if(this.parent==null){return this}return this.parent.root}get_editor_at_virtual_line(e){let t=e.line;if(!this.virtual_lines.has(t)){t-=1}return this.virtual_lines.get(t).editor}get_editor_at_source_line(e){return this.source_lines.get(e.line).editor}maybe_emit_changed(){if(this.value!==this.previous_value){this.changed.emit(this)}this.previous_value=this.value;for(let e of this.foreign_documents.values()){e.maybe_emit_changed()}}}Ae.instances_count=0;function be(e){let t=new Set;t.add(e);for(let n of e.foreign_documents.values()){let e=be(n);e.forEach(t.add,t)}return t}var ke=n(83100);var we={};we.insert="head";we.singleton=false;var xe=J()(ke.Z,we);const Ce=ke.Z.locals||{};class Ee{}class je extends Ee{constructor(){super();this.element=document.createElement("ul");this.element.className="lsp-floating-console";document.body.appendChild(this.element)}append(e,t="log"){let n=document.createElement("li");n.innerHTML='<span class="lsp-kind">'+t+"</span>"+e;this.element.appendChild(n);this.element.scrollTop=this.element.scrollHeight}to_string(e){return e.map((e=>'<span class="lsp-code">'+JSON.stringify(e)+"</span>")).join(", ")}log(...e){this.append(this.to_string(e),"log")}warn(...e){this.append(this.to_string(e),"warn")}error(...e){this.append(this.to_string(e),"error")}}class Se extends Ee{log(...e){console.log("LSP: ",...e)}warn(...e){console.warn("LSP: ",...e)}error(...e){console.error("LSP: ",...e)}}function Ie(e){if(e==="browser"){return new Se}else{return new je}}class Le{constructor(e,t,n,i,r,o){this.language=e;this.file_extension=t;this.path=n;this.overrides_registry=i;this.foreign_code_extractors=r;this.has_lsp_supported_file=o;this.isDisposed=false;this.is_update_in_progress=false;this.update_lock=false;this._event_wrappers=new Map;this.create_virtual_document();this.documents_updated=new ge.Signal(this);this.documents_updated.connect(this.on_updated,this);this.console=Ie("browser")}create_virtual_document(){this.virtual_document=new Ae(this.language(),this.path(),this.overrides_registry,this.foreign_code_extractors,false,this.file_extension(),this.has_lsp_supported_file)}dispose(){if(this.isDisposed){return}this.documents_updated.disconnect(this.on_updated,this);for(let[[e],t]of this._event_wrappers.entries()){this.forEveryBlockEditor((n=>{n.off(e,t)}),false)}this._event_wrappers.clear();this.virtual_document.dispose();this.virtual_document=null;this.overrides_registry=null;this.foreign_code_extractors=null;this.code_extractors=null;this.isDisposed=true}on_updated(e,t){try{t.close_expired_documents()}catch(n){this.console.warn("LSP: Failed to close expired documents")}}transform_virtual_to_editor(e){return this.virtual_document.transform_virtual_to_editor(e)}can_update(){return!this.isDisposed&&!this.is_update_in_progress&&!this.update_lock}async with_update_lock(e){await(0,_e.EU)((()=>this.can_update()),12,10).then((()=>{try{this.update_lock=true;e()}finally{this.update_lock=false}}))}async update_documents(){return new Promise((async(e,t)=>{await(0,_e.EU)((()=>this.can_update()),10,5).then((()=>{if(this.isDisposed||!this.virtual_document){e()}try{this.is_update_in_progress=true;this.perform_documents_update();if(this.virtual_document){this.documents_updated.emit(this.virtual_document);this.virtual_document.maybe_emit_changed()}e()}catch(n){this.console.warn("Documents update failed:",n);t(n)}finally{this.is_update_in_progress=false}}))}))}document_at_root_position(e){let t=e;return this.virtual_document.root.document_at_source_position(t)}root_position_to_virtual_position(e){let t=e;return this.virtual_document.root.virtual_position_at_document(t)}get_editor_at_root_position(e){return this.virtual_document.root.get_editor_at_source_line(e)}root_position_to_editor(e){return this.virtual_document.root.transform_source_to_editor(e)}on(e,t,...n){let i=(e,...n)=>{try{return t(this,...n)}catch(i){this.console.warn("Wrapped handler (which should accept a CodeMirror Editor instance) failed",{error:i,instance:e,args:n,this:this})}};this._event_wrappers.set([e,t],i);this.forEveryBlockEditor((t=>{t.on(e,i)}))}off(e,t,...n){let i=this._event_wrappers.get([e,t]);this.forEveryBlockEditor((t=>{t.off(e,i)}))}}class Te extends Le{constructor(e,t,n,i){super(e,t,n,{},{},true);this.has_cells=false;this.cm_editor=i;let r={get:function(e,t,n){if(t in i&&!(t in e)){return i[t]}else{return Reflect.get(e,t,n)}}};return new Proxy(this,r)}transform_virtual_to_editor(e){return e}transform_editor_to_root(e,t){return t}get_editor_index(e){return 0}get_cm_editor(e){return this.cm_editor}perform_documents_update(){if(this.isDisposed){return}this.virtual_document.clear();this.virtual_document.append_code_block(this.cm_editor.getValue(),this.cm_editor)}addEventListener(e,t){this.cm_editor.getWrapperElement().addEventListener(e,t)}forEveryBlockEditor(e){e(this.cm_editor)}}var Be;(function(e){function t(e){return typeof e==="string"}e.is=t})(Be||(Be={}));var Me;(function(e){function t(e){return typeof e==="string"}e.is=t})(Me||(Me={}));var Pe;(function(e){e.MIN_VALUE=-2147483648;e.MAX_VALUE=2147483647;function t(t){return typeof t==="number"&&e.MIN_VALUE<=t&&t<=e.MAX_VALUE}e.is=t})(Pe||(Pe={}));var Re;(function(e){e.MIN_VALUE=0;e.MAX_VALUE=2147483647;function t(t){return typeof t==="number"&&e.MIN_VALUE<=t&&t<=e.MAX_VALUE}e.is=t})(Re||(Re={}));var Oe;(function(e){function t(e,t){if(e===Number.MAX_VALUE){e=Re.MAX_VALUE}if(t===Number.MAX_VALUE){t=Re.MAX_VALUE}return{line:e,character:t}}e.create=t;function n(e){var t=e;return nn.objectLiteral(t)&&nn.uinteger(t.line)&&nn.uinteger(t.character)}e.is=n})(Oe||(Oe={}));var De;(function(e){function t(e,t,n,i){if(nn.uinteger(e)&&nn.uinteger(t)&&nn.uinteger(n)&&nn.uinteger(i)){return{start:Oe.create(e,t),end:Oe.create(n,i)}}else if(Oe.is(e)&&Oe.is(t)){return{start:e,end:t}}else{throw new Error("Range#create called with invalid arguments[".concat(e,", ").concat(t,", ").concat(n,", ").concat(i,"]"))}}e.create=t;function n(e){var t=e;return nn.objectLiteral(t)&&Oe.is(t.start)&&Oe.is(t.end)}e.is=n})(De||(De={}));var Ne;(function(e){function t(e,t){return{uri:e,range:t}}e.create=t;function n(e){var t=e;return nn.objectLiteral(t)&&De.is(t.range)&&(nn.string(t.uri)||nn.undefined(t.uri))}e.is=n})(Ne||(Ne={}));var Ke;(function(e){function t(e,t,n,i){return{targetUri:e,targetRange:t,targetSelectionRange:n,originSelectionRange:i}}e.create=t;function n(e){var t=e;return nn.objectLiteral(t)&&De.is(t.targetRange)&&nn.string(t.targetUri)&&De.is(t.targetSelectionRange)&&(De.is(t.originSelectionRange)||nn.undefined(t.originSelectionRange))}e.is=n})(Ke||(Ke={}));var Ue;(function(e){function t(e,t,n,i){return{red:e,green:t,blue:n,alpha:i}}e.create=t;function n(e){var t=e;return nn.objectLiteral(t)&&nn.numberRange(t.red,0,1)&&nn.numberRange(t.green,0,1)&&nn.numberRange(t.blue,0,1)&&nn.numberRange(t.alpha,0,1)}e.is=n})(Ue||(Ue={}));var Fe;(function(e){function t(e,t){return{range:e,color:t}}e.create=t;function n(e){var t=e;return nn.objectLiteral(t)&&De.is(t.range)&&Ue.is(t.color)}e.is=n})(Fe||(Fe={}));var qe;(function(e){function t(e,t,n){return{label:e,textEdit:t,additionalTextEdits:n}}e.create=t;function n(e){var t=e;return nn.objectLiteral(t)&&nn.string(t.label)&&(nn.undefined(t.textEdit)||Xe.is(t))&&(nn.undefined(t.additionalTextEdits)||nn.typedArray(t.additionalTextEdits,Xe.is))}e.is=n})(qe||(qe={}));var We;(function(e){e.Comment="comment";e.Imports="imports";e.Region="region"})(We||(We={}));var $e;(function(e){function t(e,t,n,i,r,o){var s={startLine:e,endLine:t};if(nn.defined(n)){s.startCharacter=n}if(nn.defined(i)){s.endCharacter=i}if(nn.defined(r)){s.kind=r}if(nn.defined(o)){s.collapsedText=o}return s}e.create=t;function n(e){var t=e;return nn.objectLiteral(t)&&nn.uinteger(t.startLine)&&nn.uinteger(t.startLine)&&(nn.undefined(t.startCharacter)||nn.uinteger(t.startCharacter))&&(nn.undefined(t.endCharacter)||nn.uinteger(t.endCharacter))&&(nn.undefined(t.kind)||nn.string(t.kind))}e.is=n})($e||($e={}));var He;(function(e){function t(e,t){return{location:e,message:t}}e.create=t;function n(e){var t=e;return nn.defined(t)&&Ne.is(t.location)&&nn.string(t.message)}e.is=n})(He||(He={}));var ze;(function(e){e.Error=1;e.Warning=2;e.Information=3;e.Hint=4})(ze||(ze={}));var Je;(function(e){e.Unnecessary=1;e.Deprecated=2})(Je||(Je={}));var Ve;(function(e){function t(e){var t=e;return nn.objectLiteral(t)&&nn.string(t.href)}e.is=t})(Ve||(Ve={}));var Ze;(function(e){function t(e,t,n,i,r,o){var s={range:e,message:t};if(nn.defined(n)){s.severity=n}if(nn.defined(i)){s.code=i}if(nn.defined(r)){s.source=r}if(nn.defined(o)){s.relatedInformation=o}return s}e.create=t;function n(e){var t;var n=e;return nn.defined(n)&&De.is(n.range)&&nn.string(n.message)&&(nn.number(n.severity)||nn.undefined(n.severity))&&(nn.integer(n.code)||nn.string(n.code)||nn.undefined(n.code))&&(nn.undefined(n.codeDescription)||nn.string((t=n.codeDescription)===null||t===void 0?void 0:t.href))&&(nn.string(n.source)||nn.undefined(n.source))&&(nn.undefined(n.relatedInformation)||nn.typedArray(n.relatedInformation,He.is))}e.is=n})(Ze||(Ze={}));var Ge;(function(e){function t(e,t){var n=[];for(var i=2;i<arguments.length;i++){n[i-2]=arguments[i]}var r={title:e,command:t};if(nn.defined(n)&&n.length>0){r.arguments=n}return r}e.create=t;function n(e){var t=e;return nn.defined(t)&&nn.string(t.title)&&nn.string(t.command)}e.is=n})(Ge||(Ge={}));var Xe;(function(e){function t(e,t){return{range:e,newText:t}}e.replace=t;function n(e,t){return{range:{start:e,end:e},newText:t}}e.insert=n;function i(e){return{range:e,newText:""}}e.del=i;function r(e){var t=e;return nn.objectLiteral(t)&&nn.string(t.newText)&&De.is(t.range)}e.is=r})(Xe||(Xe={}));var Ye;(function(e){function t(e,t,n){var i={label:e};if(t!==undefined){i.needsConfirmation=t}if(n!==undefined){i.description=n}return i}e.create=t;function n(e){var t=e;return nn.objectLiteral(t)&&nn.string(t.label)&&(nn.boolean(t.needsConfirmation)||t.needsConfirmation===undefined)&&(nn.string(t.description)||t.description===undefined)}e.is=n})(Ye||(Ye={}));var Qe;(function(e){function t(e){var t=e;return nn.string(t)}e.is=t})(Qe||(Qe={}));var et;(function(e){function t(e,t,n){return{range:e,newText:t,annotationId:n}}e.replace=t;function n(e,t,n){return{range:{start:e,end:e},newText:t,annotationId:n}}e.insert=n;function i(e,t){return{range:e,newText:"",annotationId:t}}e.del=i;function r(e){var t=e;return Xe.is(t)&&(Ye.is(t.annotationId)||Qe.is(t.annotationId))}e.is=r})(et||(et={}));var tt;(function(e){function t(e,t){return{textDocument:e,edits:t}}e.create=t;function n(e){var t=e;return nn.defined(t)&&dt.is(t.textDocument)&&Array.isArray(t.edits)}e.is=n})(tt||(tt={}));var nt;(function(e){function t(e,t,n){var i={kind:"create",uri:e};if(t!==undefined&&(t.overwrite!==undefined||t.ignoreIfExists!==undefined)){i.options=t}if(n!==undefined){i.annotationId=n}return i}e.create=t;function n(e){var t=e;return t&&t.kind==="create"&&nn.string(t.uri)&&(t.options===undefined||(t.options.overwrite===undefined||nn.boolean(t.options.overwrite))&&(t.options.ignoreIfExists===undefined||nn.boolean(t.options.ignoreIfExists)))&&(t.annotationId===undefined||Qe.is(t.annotationId))}e.is=n})(nt||(nt={}));var it;(function(e){function t(e,t,n,i){var r={kind:"rename",oldUri:e,newUri:t};if(n!==undefined&&(n.overwrite!==undefined||n.ignoreIfExists!==undefined)){r.options=n}if(i!==undefined){r.annotationId=i}return r}e.create=t;function n(e){var t=e;return t&&t.kind==="rename"&&nn.string(t.oldUri)&&nn.string(t.newUri)&&(t.options===undefined||(t.options.overwrite===undefined||nn.boolean(t.options.overwrite))&&(t.options.ignoreIfExists===undefined||nn.boolean(t.options.ignoreIfExists)))&&(t.annotationId===undefined||Qe.is(t.annotationId))}e.is=n})(it||(it={}));var rt;(function(e){function t(e,t,n){var i={kind:"delete",uri:e};if(t!==undefined&&(t.recursive!==undefined||t.ignoreIfNotExists!==undefined)){i.options=t}if(n!==undefined){i.annotationId=n}return i}e.create=t;function n(e){var t=e;return t&&t.kind==="delete"&&nn.string(t.uri)&&(t.options===undefined||(t.options.recursive===undefined||nn.boolean(t.options.recursive))&&(t.options.ignoreIfNotExists===undefined||nn.boolean(t.options.ignoreIfNotExists)))&&(t.annotationId===undefined||Qe.is(t.annotationId))}e.is=n})(rt||(rt={}));var ot;(function(e){function t(e){var t=e;return t&&(t.changes!==undefined||t.documentChanges!==undefined)&&(t.documentChanges===undefined||t.documentChanges.every((function(e){if(nn.string(e.kind)){return nt.is(e)||it.is(e)||rt.is(e)}else{return tt.is(e)}})))}e.is=t})(ot||(ot={}));var st=function(){function e(e,t){this.edits=e;this.changeAnnotations=t}e.prototype.insert=function(e,t,n){var i;var r;if(n===undefined){i=Xe.insert(e,t)}else if(Qe.is(n)){r=n;i=et.insert(e,t,n)}else{this.assertChangeAnnotations(this.changeAnnotations);r=this.changeAnnotations.manage(n);i=et.insert(e,t,r)}this.edits.push(i);if(r!==undefined){return r}};e.prototype.replace=function(e,t,n){var i;var r;if(n===undefined){i=Xe.replace(e,t)}else if(Qe.is(n)){r=n;i=et.replace(e,t,n)}else{this.assertChangeAnnotations(this.changeAnnotations);r=this.changeAnnotations.manage(n);i=et.replace(e,t,r)}this.edits.push(i);if(r!==undefined){return r}};e.prototype.delete=function(e,t){var n;var i;if(t===undefined){n=Xe.del(e)}else if(Qe.is(t)){i=t;n=et.del(e,t)}else{this.assertChangeAnnotations(this.changeAnnotations);i=this.changeAnnotations.manage(t);n=et.del(e,i)}this.edits.push(n);if(i!==undefined){return i}};e.prototype.add=function(e){this.edits.push(e)};e.prototype.all=function(){return this.edits};e.prototype.clear=function(){this.edits.splice(0,this.edits.length)};e.prototype.assertChangeAnnotations=function(e){if(e===undefined){throw new Error("Text edit change is not configured to manage change annotations.")}};return e}();var at=function(){function e(e){this._annotations=e===undefined?Object.create(null):e;this._counter=0;this._size=0}e.prototype.all=function(){return this._annotations};Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:false,configurable:true});e.prototype.manage=function(e,t){var n;if(Qe.is(e)){n=e}else{n=this.nextId();t=e}if(this._annotations[n]!==undefined){throw new Error("Id ".concat(n," is already in use."))}if(t===undefined){throw new Error("No annotation provided for id ".concat(n))}this._annotations[n]=t;this._size++;return n};e.prototype.nextId=function(){this._counter++;return this._counter.toString()};return e}();var lt=function(){function e(e){var t=this;this._textEditChanges=Object.create(null);if(e!==undefined){this._workspaceEdit=e;if(e.documentChanges){this._changeAnnotations=new at(e.changeAnnotations);e.changeAnnotations=this._changeAnnotations.all();e.documentChanges.forEach((function(e){if(tt.is(e)){var n=new st(e.edits,t._changeAnnotations);t._textEditChanges[e.textDocument.uri]=n}}))}else if(e.changes){Object.keys(e.changes).forEach((function(n){var i=new st(e.changes[n]);t._textEditChanges[n]=i}))}}else{this._workspaceEdit={}}}Object.defineProperty(e.prototype,"edit",{get:function(){this.initDocumentChanges();if(this._changeAnnotations!==undefined){if(this._changeAnnotations.size===0){this._workspaceEdit.changeAnnotations=undefined}else{this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()}}return this._workspaceEdit},enumerable:false,configurable:true});e.prototype.getTextEditChange=function(e){if(dt.is(e)){this.initDocumentChanges();if(this._workspaceEdit.documentChanges===undefined){throw new Error("Workspace edit is not configured for document changes.")}var t={uri:e.uri,version:e.version};var n=this._textEditChanges[t.uri];if(!n){var i=[];var r={textDocument:t,edits:i};this._workspaceEdit.documentChanges.push(r);n=new st(i,this._changeAnnotations);this._textEditChanges[t.uri]=n}return n}else{this.initChanges();if(this._workspaceEdit.changes===undefined){throw new Error("Workspace edit is not configured for normal text edit changes.")}var n=this._textEditChanges[e];if(!n){var i=[];this._workspaceEdit.changes[e]=i;n=new st(i);this._textEditChanges[e]=n}return n}};e.prototype.initDocumentChanges=function(){if(this._workspaceEdit.documentChanges===undefined&&this._workspaceEdit.changes===undefined){this._changeAnnotations=new at;this._workspaceEdit.documentChanges=[];this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()}};e.prototype.initChanges=function(){if(this._workspaceEdit.documentChanges===undefined&&this._workspaceEdit.changes===undefined){this._workspaceEdit.changes=Object.create(null)}};e.prototype.createFile=function(e,t,n){this.initDocumentChanges();if(this._workspaceEdit.documentChanges===undefined){throw new Error("Workspace edit is not configured for document changes.")}var i;if(Ye.is(t)||Qe.is(t)){i=t}else{n=t}var r;var o;if(i===undefined){r=nt.create(e,n)}else{o=Qe.is(i)?i:this._changeAnnotations.manage(i);r=nt.create(e,n,o)}this._workspaceEdit.documentChanges.push(r);if(o!==undefined){return o}};e.prototype.renameFile=function(e,t,n,i){this.initDocumentChanges();if(this._workspaceEdit.documentChanges===undefined){throw new Error("Workspace edit is not configured for document changes.")}var r;if(Ye.is(n)||Qe.is(n)){r=n}else{i=n}var o;var s;if(r===undefined){o=it.create(e,t,i)}else{s=Qe.is(r)?r:this._changeAnnotations.manage(r);o=it.create(e,t,i,s)}this._workspaceEdit.documentChanges.push(o);if(s!==undefined){return s}};e.prototype.deleteFile=function(e,t,n){this.initDocumentChanges();if(this._workspaceEdit.documentChanges===undefined){throw new Error("Workspace edit is not configured for document changes.")}var i;if(Ye.is(t)||Qe.is(t)){i=t}else{n=t}var r;var o;if(i===undefined){r=rt.create(e,n)}else{o=Qe.is(i)?i:this._changeAnnotations.manage(i);r=rt.create(e,n,o)}this._workspaceEdit.documentChanges.push(r);if(o!==undefined){return o}};return e}();var ct;(function(e){function t(e){return{uri:e}}e.create=t;function n(e){var t=e;return nn.defined(t)&&nn.string(t.uri)}e.is=n})(ct||(ct={}));var ut;(function(e){function t(e,t){return{uri:e,version:t}}e.create=t;function n(e){var t=e;return nn.defined(t)&&nn.string(t.uri)&&nn.integer(t.version)}e.is=n})(ut||(ut={}));var dt;(function(e){function t(e,t){return{uri:e,version:t}}e.create=t;function n(e){var t=e;return nn.defined(t)&&nn.string(t.uri)&&(t.version===null||nn.integer(t.version))}e.is=n})(dt||(dt={}));var ht;(function(e){function t(e,t,n,i){return{uri:e,languageId:t,version:n,text:i}}e.create=t;function n(e){var t=e;return nn.defined(t)&&nn.string(t.uri)&&nn.string(t.languageId)&&nn.integer(t.version)&&nn.string(t.text)}e.is=n})(ht||(ht={}));var pt;(function(e){e.PlainText="plaintext";e.Markdown="markdown";function t(t){var n=t;return n===e.PlainText||n===e.Markdown}e.is=t})(pt||(pt={}));var _t;(function(e){function t(e){var t=e;return nn.objectLiteral(e)&&pt.is(t.kind)&&nn.string(t.value)}e.is=t})(_t||(_t={}));var gt;(function(e){e.Text=1;e.Method=2;e.Function=3;e.Constructor=4;e.Field=5;e.Variable=6;e.Class=7;e.Interface=8;e.Module=9;e.Property=10;e.Unit=11;e.Value=12;e.Enum=13;e.Keyword=14;e.Snippet=15;e.Color=16;e.File=17;e.Reference=18;e.Folder=19;e.EnumMember=20;e.Constant=21;e.Struct=22;e.Event=23;e.Operator=24;e.TypeParameter=25})(gt||(gt={}));var ft;(function(e){e.PlainText=1;e.Snippet=2})(ft||(ft={}));var mt;(function(e){e.Deprecated=1})(mt||(mt={}));var vt;(function(e){function t(e,t,n){return{newText:e,insert:t,replace:n}}e.create=t;function n(e){var t=e;return t&&nn.string(t.newText)&&De.is(t.insert)&&De.is(t.replace)}e.is=n})(vt||(vt={}));var yt;(function(e){e.asIs=1;e.adjustIndentation=2})(yt||(yt={}));var At;(function(e){function t(e){var t=e;return t&&(nn.string(t.detail)||t.detail===undefined)&&(nn.string(t.description)||t.description===undefined)}e.is=t})(At||(At={}));var bt;(function(e){function t(e){return{label:e}}e.create=t})(bt||(bt={}));var kt;(function(e){function t(e,t){return{items:e?e:[],isIncomplete:!!t}}e.create=t})(kt||(kt={}));var wt;(function(e){function t(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.fromPlainText=t;function n(e){var t=e;return nn.string(t)||nn.objectLiteral(t)&&nn.string(t.language)&&nn.string(t.value)}e.is=n})(wt||(wt={}));var xt;(function(e){function t(e){var t=e;return!!t&&nn.objectLiteral(t)&&(_t.is(t.contents)||wt.is(t.contents)||nn.typedArray(t.contents,wt.is))&&(e.range===undefined||De.is(e.range))}e.is=t})(xt||(xt={}));var Ct;(function(e){function t(e,t){return t?{label:e,documentation:t}:{label:e}}e.create=t})(Ct||(Ct={}));var Et;(function(e){function t(e,t){var n=[];for(var i=2;i<arguments.length;i++){n[i-2]=arguments[i]}var r={label:e};if(nn.defined(t)){r.documentation=t}if(nn.defined(n)){r.parameters=n}else{r.parameters=[]}return r}e.create=t})(Et||(Et={}));var jt;(function(e){e.Text=1;e.Read=2;e.Write=3})(jt||(jt={}));var St;(function(e){function t(e,t){var n={range:e};if(nn.number(t)){n.kind=t}return n}e.create=t})(St||(St={}));var It;(function(e){e.File=1;e.Module=2;e.Namespace=3;e.Package=4;e.Class=5;e.Method=6;e.Property=7;e.Field=8;e.Constructor=9;e.Enum=10;e.Interface=11;e.Function=12;e.Variable=13;e.Constant=14;e.String=15;e.Number=16;e.Boolean=17;e.Array=18;e.Object=19;e.Key=20;e.Null=21;e.EnumMember=22;e.Struct=23;e.Event=24;e.Operator=25;e.TypeParameter=26})(It||(It={}));var Lt;(function(e){e.Deprecated=1})(Lt||(Lt={}));var Tt;(function(e){function t(e,t,n,i,r){var o={name:e,kind:t,location:{uri:i,range:n}};if(r){o.containerName=r}return o}e.create=t})(Tt||(Tt={}));var Bt;(function(e){function t(e,t,n,i){return i!==undefined?{name:e,kind:t,location:{uri:n,range:i}}:{name:e,kind:t,location:{uri:n}}}e.create=t})(Bt||(Bt={}));var Mt;(function(e){function t(e,t,n,i,r,o){var s={name:e,detail:t,kind:n,range:i,selectionRange:r};if(o!==undefined){s.children=o}return s}e.create=t;function n(e){var t=e;return t&&nn.string(t.name)&&nn.number(t.kind)&&De.is(t.range)&&De.is(t.selectionRange)&&(t.detail===undefined||nn.string(t.detail))&&(t.deprecated===undefined||nn.boolean(t.deprecated))&&(t.children===undefined||Array.isArray(t.children))&&(t.tags===undefined||Array.isArray(t.tags))}e.is=n})(Mt||(Mt={}));var Pt;(function(e){e.Empty="";e.QuickFix="quickfix";e.Refactor="refactor";e.RefactorExtract="refactor.extract";e.RefactorInline="refactor.inline";e.RefactorRewrite="refactor.rewrite";e.Source="source";e.SourceOrganizeImports="source.organizeImports";e.SourceFixAll="source.fixAll"})(Pt||(Pt={}));var Rt;(function(e){e.Invoked=1;e.Automatic=2})(Rt||(Rt={}));var Ot;(function(e){function t(e,t,n){var i={diagnostics:e};if(t!==undefined&&t!==null){i.only=t}if(n!==undefined&&n!==null){i.triggerKind=n}return i}e.create=t;function n(e){var t=e;return nn.defined(t)&&nn.typedArray(t.diagnostics,Ze.is)&&(t.only===undefined||nn.typedArray(t.only,nn.string))&&(t.triggerKind===undefined||t.triggerKind===Rt.Invoked||t.triggerKind===Rt.Automatic)}e.is=n})(Ot||(Ot={}));var Dt;(function(e){function t(e,t,n){var i={title:e};var r=true;if(typeof t==="string"){r=false;i.kind=t}else if(Ge.is(t)){i.command=t}else{i.edit=t}if(r&&n!==undefined){i.kind=n}return i}e.create=t;function n(e){var t=e;return t&&nn.string(t.title)&&(t.diagnostics===undefined||nn.typedArray(t.diagnostics,Ze.is))&&(t.kind===undefined||nn.string(t.kind))&&(t.edit!==undefined||t.command!==undefined)&&(t.command===undefined||Ge.is(t.command))&&(t.isPreferred===undefined||nn.boolean(t.isPreferred))&&(t.edit===undefined||ot.is(t.edit))}e.is=n})(Dt||(Dt={}));var Nt;(function(e){function t(e,t){var n={range:e};if(nn.defined(t)){n.data=t}return n}e.create=t;function n(e){var t=e;return nn.defined(t)&&De.is(t.range)&&(nn.undefined(t.command)||Ge.is(t.command))}e.is=n})(Nt||(Nt={}));var Kt;(function(e){function t(e,t){return{tabSize:e,insertSpaces:t}}e.create=t;function n(e){var t=e;return nn.defined(t)&&nn.uinteger(t.tabSize)&&nn.boolean(t.insertSpaces)}e.is=n})(Kt||(Kt={}));var Ut;(function(e){function t(e,t,n){return{range:e,target:t,data:n}}e.create=t;function n(e){var t=e;return nn.defined(t)&&De.is(t.range)&&(nn.undefined(t.target)||nn.string(t.target))}e.is=n})(Ut||(Ut={}));var Ft;(function(e){function t(e,t){return{range:e,parent:t}}e.create=t;function n(t){var n=t;return nn.objectLiteral(n)&&De.is(n.range)&&(n.parent===undefined||e.is(n.parent))}e.is=n})(Ft||(Ft={}));var qt;(function(e){e["namespace"]="namespace";e["type"]="type";e["class"]="class";e["enum"]="enum";e["interface"]="interface";e["struct"]="struct";e["typeParameter"]="typeParameter";e["parameter"]="parameter";e["variable"]="variable";e["property"]="property";e["enumMember"]="enumMember";e["event"]="event";e["function"]="function";e["method"]="method";e["macro"]="macro";e["keyword"]="keyword";e["modifier"]="modifier";e["comment"]="comment";e["string"]="string";e["number"]="number";e["regexp"]="regexp";e["operator"]="operator";e["decorator"]="decorator"})(qt||(qt={}));var Wt;(function(e){e["declaration"]="declaration";e["definition"]="definition";e["readonly"]="readonly";e["static"]="static";e["deprecated"]="deprecated";e["abstract"]="abstract";e["async"]="async";e["modification"]="modification";e["documentation"]="documentation";e["defaultLibrary"]="defaultLibrary"})(Wt||(Wt={}));var $t;(function(e){function t(e){var t=e;return nn.objectLiteral(t)&&(t.resultId===undefined||typeof t.resultId==="string")&&Array.isArray(t.data)&&(t.data.length===0||typeof t.data[0]==="number")}e.is=t})($t||($t={}));var Ht;(function(e){function t(e,t){return{range:e,text:t}}e.create=t;function n(e){var t=e;return t!==undefined&&t!==null&&De.is(t.range)&&nn.string(t.text)}e.is=n})(Ht||(Ht={}));var zt;(function(e){function t(e,t,n){return{range:e,variableName:t,caseSensitiveLookup:n}}e.create=t;function n(e){var t=e;return t!==undefined&&t!==null&&De.is(t.range)&&nn.boolean(t.caseSensitiveLookup)&&(nn.string(t.variableName)||t.variableName===undefined)}e.is=n})(zt||(zt={}));var Jt;(function(e){function t(e,t){return{range:e,expression:t}}e.create=t;function n(e){var t=e;return t!==undefined&&t!==null&&De.is(t.range)&&(nn.string(t.expression)||t.expression===undefined)}e.is=n})(Jt||(Jt={}));var Vt;(function(e){function t(e,t){return{frameId:e,stoppedLocation:t}}e.create=t;function n(e){var t=e;return nn.defined(t)&&De.is(e.stoppedLocation)}e.is=n})(Vt||(Vt={}));var Zt;(function(e){e.Type=1;e.Parameter=2;function t(e){return e===1||e===2}e.is=t})(Zt||(Zt={}));var Gt;(function(e){function t(e){return{value:e}}e.create=t;function n(e){var t=e;return nn.objectLiteral(t)&&(t.tooltip===undefined||nn.string(t.tooltip)||_t.is(t.tooltip))&&(t.location===undefined||Ne.is(t.location))&&(t.command===undefined||Ge.is(t.command))}e.is=n})(Gt||(Gt={}));var Xt;(function(e){function t(e,t,n){var i={position:e,label:t};if(n!==undefined){i.kind=n}return i}e.create=t;function n(e){var t=e;return nn.objectLiteral(t)&&Oe.is(t.position)&&(nn.string(t.label)||nn.typedArray(t.label,Gt.is))&&(t.kind===undefined||Zt.is(t.kind))&&t.textEdits===undefined||nn.typedArray(t.textEdits,Xe.is)&&(t.tooltip===undefined||nn.string(t.tooltip)||_t.is(t.tooltip))&&(t.paddingLeft===undefined||nn.boolean(t.paddingLeft))&&(t.paddingRight===undefined||nn.boolean(t.paddingRight))}e.is=n})(Xt||(Xt={}));var Yt;(function(e){function t(e){var t=e;return nn.objectLiteral(t)&&Me.is(t.uri)&&nn.string(t.name)}e.is=t})(Yt||(Yt={}));var Qt=null&&["\n","\r\n","\r"];var en;(function(e){function t(e,t,n,i){return new tn(e,t,n,i)}e.create=t;function n(e){var t=e;return nn.defined(t)&&nn.string(t.uri)&&(nn.undefined(t.languageId)||nn.string(t.languageId))&&nn.uinteger(t.lineCount)&&nn.func(t.getText)&&nn.func(t.positionAt)&&nn.func(t.offsetAt)?true:false}e.is=n;function i(e,t){var n=e.getText();var i=r(t,(function(e,t){var n=e.range.start.line-t.range.start.line;if(n===0){return e.range.start.character-t.range.start.character}return n}));var o=n.length;for(var s=i.length-1;s>=0;s--){var a=i[s];var l=e.offsetAt(a.range.start);var c=e.offsetAt(a.range.end);if(c<=o){n=n.substring(0,l)+a.newText+n.substring(c,n.length)}else{throw new Error("Overlapping edit")}o=l}return n}e.applyEdits=i;function r(e,t){if(e.length<=1){return e}var n=e.length/2|0;var i=e.slice(0,n);var o=e.slice(n);r(i,t);r(o,t);var s=0;var a=0;var l=0;while(s<i.length&&a<o.length){var c=t(i[s],o[a]);if(c<=0){e[l++]=i[s++]}else{e[l++]=o[a++]}}while(s<i.length){e[l++]=i[s++]}while(a<o.length){e[l++]=o[a++]}return e}})(en||(en={}));var tn=function(){function e(e,t,n,i){this._uri=e;this._languageId=t;this._version=n;this._content=i;this._lineOffsets=undefined}Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:false,configurable:true});e.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start);var n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content};e.prototype.update=function(e,t){this._content=e.text;this._version=t;this._lineOffsets=undefined};e.prototype.getLineOffsets=function(){if(this._lineOffsets===undefined){var e=[];var t=this._content;var n=true;for(var i=0;i<t.length;i++){if(n){e.push(i);n=false}var r=t.charAt(i);n=r==="\r"||r==="\n";if(r==="\r"&&i+1<t.length&&t.charAt(i+1)==="\n"){i++}}if(n&&t.length>0){e.push(t.length)}this._lineOffsets=e}return this._lineOffsets};e.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets();var n=0,i=t.length;if(i===0){return Oe.create(0,e)}while(n<i){var r=Math.floor((n+i)/2);if(t[r]>e){i=r}else{n=r+1}}var o=n-1;return Oe.create(o,e-t[o])};e.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length){return this._content.length}else if(e.line<0){return 0}var n=t[e.line];var i=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,i),n)};Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:false,configurable:true});return e}();var nn;(function(e){var t=Object.prototype.toString;function n(e){return typeof e!=="undefined"}e.defined=n;function i(e){return typeof e==="undefined"}e.undefined=i;function r(e){return e===true||e===false}e.boolean=r;function o(e){return t.call(e)==="[object String]"}e.string=o;function s(e){return t.call(e)==="[object Number]"}e.number=s;function a(e,n,i){return t.call(e)==="[object Number]"&&n<=e&&e<=i}e.numberRange=a;function l(e){return t.call(e)==="[object Number]"&&-2147483648<=e&&e<=2147483647}e.integer=l;function c(e){return t.call(e)==="[object Number]"&&0<=e&&e<=2147483647}e.uinteger=c;function u(e){return t.call(e)==="[object Function]"}e.func=u;function d(e){return e!==null&&typeof e==="object"}e.objectLiteral=d;function h(e,t){return Array.isArray(e)&&e.every(t)}e.typedArray=h})(nn||(nn={}));var rn;(function(e){e.Error=1;e.Warning=2;e.Information=3;e.Hint=4})(rn||(rn={}));var on;(function(e){e.Text=1;e.Method=2;e.Function=3;e.Constructor=4;e.Field=5;e.Variable=6;e.Class=7;e.Interface=8;e.Module=9;e.Property=10;e.Unit=11;e.Value=12;e.Enum=13;e.Keyword=14;e.Snippet=15;e.Color=16;e.File=17;e.Reference=18;e.Folder=19;e.EnumMember=20;e.Constant=21;e.Struct=22;e.Event=23;e.Operator=24;e.TypeParameter=25})(on||(on={}));var sn;(function(e){e.Text=1;e.Read=2;e.Write=3})(sn||(sn={}));function an(e){const t={};for(let n of Object.keys(e)){t[e[n]]=n}return t}const ln=an(rn);const cn=an(on);const un=an(sn);var dn;(function(e){e.Invoked=1;e.TriggerCharacter=2;e.TriggerForIncompleteCompletions=3})(dn||(dn={}));class hn{static lsp_to_cm(e){return{line:e.line,ch:e.character}}static lsp_to_ce(e){return{line:e.line,column:e.character}}static cm_to_ce(e){return{line:e.line,column:e.ch}}static ce_to_cm(e){return{line:e.line,ch:e.column}}}class pn extends h.DataConnector{constructor(e){super();this.isDisposed=false;this.responseType=s.CompletionHandler.ICompletionItemsResponseType;this._trigger_kind=dn.Invoked;this.suppress_auto_invoke_in=["comment"];this.icon=new se.LabIcon({name:"jupyterlab-kite:completion-icon",svgstr:le});this._editor=e.editor;this._connections=e.connections;this.virtual_editor=e.virtual_editor;this.options=e;this.fetchAbort=new AbortController;if(e.session){this._kernel_connector=new s.KernelConnector({session:e.session})}this.icon.bindprops({className:"kite-logo"})}dispose(){if(this.isDisposed){return}delete this._connections;delete this._kernel_connector;delete this.virtual_editor;delete this.options;delete this._editor;delete this.icon;delete this.isDisposed;delete this.fetchAbort}abort(){this.fetchAbort.abort()}fetch(e){return new Promise((async(t,n)=>{const i=new AbortController;this.fetchAbort.abort();this.fetchAbort=i;let r=[-1,-1];i.signal.addEventListener("abort",(()=>{t({start:r[0],end:r[1],items:[]})}),{once:true});let o=this._editor;const s=o.getCursorPosition();const a=o.getTokenForPosition(s);if(a.type&&this.suppress_auto_invoke_in.indexOf(a.type)!==-1){console.log("[Kite][Completer] Suppressing completer auto-invoke in",a.type);return}const l=o.getPositionAt(a.offset);const c=o.getPositionAt(a.offset+a.value.length);if(!l||!c){console.log("[Kite][Completer] No start or end position found");t(pn.EmptyICompletionItemsReply);return}let u=s.column-l.column-1;const d=a.value[s.column-l.column-1];let h=a.value.slice(0,u+1);r=[a.offset+1,a.offset+h.length];let p=this.transform_from_editor_to_root(l);let _=this.transform_from_editor_to_root(c);let g=this.transform_from_editor_to_root(s);let f=this.virtual_editor;let m=f.document_at_root_position(p);let v=f.root_position_to_virtual_position(p);let y=f.root_position_to_virtual_position(_);let A=f.root_position_to_virtual_position(g);const b=async()=>{try{return await this.fetch_kite(a,d,v,y,A,m,u)}catch(e){return{start:r[0],end:r[1],items:[]}}};const k=this._trigger_kind===dn.Invoked;const w=!k&&a.type==="string";const x=/^[a-zA-Z\.\'\"]+/;const C=()=>{if(!this._kernel_connector||!e||w||!(x.test(d)||k)){return pn.EmptyIReply}return this._kernel_connector.fetch(e).catch((()=>pn.EmptyIReply))};const E=()=>{const e=new Promise((e=>{setTimeout(e,500,pn.EmptyIReply)}));return Promise.race([e,C()])};const[j,S]=await Promise.all([k?C():E(),b()]);const I=this.merge_replies(j,S);if(i.signal.aborted){return}t(I)}))}async fetch_kite(e,t,n,i,r,o,s){let a=this._connections.get(o.id_path);if(!a){console.log("[Kite][Completer] No LSP Connection found");return pn.EmptyICompletionItemsReply}const l=await a.getCompletion(r,{start:n,end:i,text:e.value},o.document_info,false,t,this.trigger_kind).catch((e=>console.error(e)));console.log("[Kite][Completer] Fetched",l);let c=e.value.slice(0,s+1);let u=true;let d=[];let h=o.get_editor_at_virtual_line(r).getLineTokens(r.line).map((e=>e.string)).join("");l.forEach((t=>{var i;let o=(i=t.textEdit)===null||i===void 0?void 0:i.range;let s=t.insertText?t.insertText:t.label;if(o){if(o.start.character<n.ch){let e=h.substring(o.start.character,n.ch);if(s.startsWith(e)){s=s.substring(e.length)}else{console.log("[Kite][Completer] Disposing of un-insertable completion: %s",t.insertText?t.insertText:t.label);return}}else if(o.start.character>n.ch+1){console.log("[Kite][Completer] Disposing of un-insertable completion: %s",t.insertText?t.insertText:t.label);return}if(o.end.character>r.ch){let e=h.substring(r.ch,o.end.character);if(s.endsWith(e)){s=s.substring(0,s.length-e.length)}else{console.log("[Kite][Completer] Disposing of un-insertable completion: %s",t.insertText?t.insertText:t.label);return}}else if(o.end.character<r.ch){console.log("[Kite][Completer] Disposing of un-insertable completion: %s",t.insertText?t.insertText:t.label);return}}if(s!==t.insertText){console.log("[Kite][Completer] Trimmed %s => %s",t.insertText,s);t.insertText=s}let a={label:t.label,insertText:t.insertText,type:t.hint?t.hint:t.kind?cn[t.kind]:"",icon:this.icon,documentation:_t.is(t.documentation)?t.documentation.value:t.documentation,filterText:t.filterText,noFilter:true};let l=t.insertText?t.insertText:t.label;if(l.toLowerCase().startsWith(c.toLowerCase())){u=false;if(c!==e.value){if(l.toLowerCase().startsWith(e.value.toLowerCase())){c=e.value}}}d.push(a)}));return{start:e.offset+(u?1:0),end:e.offset+c.length,items:d}}merge_replies(e,t){const n=this.transform(e);if(!n.items.length){return t}if(!t.items.length){return n}const i=new Set(t.items.map((e=>e.label)));n.items=n.items.filter((e=>!i.has(e.label)));console.log("[Kite]: Merging",t,n);if(t.start===-1){return Object.assign(Object.assign({},e),{items:t.items.concat(n.items)})}else{return Object.assign(Object.assign({},t),{items:t.items.concat(n.items)})}}transform(e){const t=new Array;const n=e.metadata||{};const i=n._jupyter_types_experimental;if(i){i.forEach((e=>{const n=e.text;const i=e.type;t.push({label:n,type:i==="<unknown>"?"":i})}))}else{const n=e.matches;n.forEach((e=>{t.push({label:e})}))}return{start:e.start,end:e.end,items:t}}transform_from_editor_to_root(e){let t=this._editor.editor;let n=hn.ce_to_cm(e);return this.virtual_editor.transform_editor_to_root(t,n)}get trigger_kind(){return this._trigger_kind}set trigger_kind(e){this._trigger_kind=e}with_trigger_kind(e,t){try{this.trigger_kind=e;return t()}finally{this.trigger_kind=dn.Invoked}}}(function(e){e.EmptyICompletionItemsReply={start:-1,end:-1,items:[]};e.EmptyIReply={start:-1,end:-1,matches:[],metadata:{}}})(pn||(pn={}));var _n=n(40746);class gn{constructor(e,t,n,i=new Array){this.editor=e;this.virtual_document=t;this.jupyterlab_components=n;this.isDisposed=false;this.saveChange=(e,t)=>{this.last_change=t};this.editor.on("change",this.saveChange);this.features=new Map;for(let r of i){r.register();if(!r.is_registered){this.editor.console.warn("The feature ",r,"was not registered properly")}this.features.set(r.name,r)}}async updateAfterChange(){this.jupyterlab_components.remove_tooltip();try{await(0,_e.EU)((()=>this.last_change!=null),30,22)}catch(n){console.log("No change obtained from CodeMirror editor within the expected time of 0.66s");return}let e=this.last_change;let t;try{t=this.editor.getDoc().getCursor("end")}catch(n){console.log("LSP: Root positon not found");return}try{let n=this.editor.document_at_root_position(t);if(this.virtual_document!==n){return true}if(!e||!e.text.length||!e.text[0].length){return true}for(let i of this.features.values()){i.afterChange(e,t)}return true}catch(i){this.editor.console.log("updateAfterChange failure");this.editor.console.error(i)}this.invalidateLastChange()}invalidateLastChange(){this.last_change=null}dispose(){if(this.isDisposed){return}for(let e of this.features.values()){e.remove()}this.features.clear();this.editor.off("change",this.saveChange);this.editor=null;this.isDisposed=true}}function fn(e,t){return t&&e.line===t.line&&e.ch===t.ch}function mn(e,t){let n=0;let i=0;for(let r of t){if(r.length+1<=e){e-=r.length+1;n+=1}else{i=e;break}}return{line:n,column:i}}function vn(e,t,n=false){let i=n?0:1;let r=0;for(let o=0;o<t.length;o++){let n=t[o];if(e.line>o){r+=n.length+i}else{r+=e.column;break}}return r}var yn;(function(e){e[e["CellContextMenu"]=0]="CellContextMenu";e[e["FileEditorContextMenu"]=1]="FileEditorContextMenu"})(yn||(yn={}));function An(e){let t=[];for(let n of Object.keys(e)){t.push({textDocument:{uri:n},edits:e[n]})}return t}function bn(e,t){return vn(hn.lsp_to_ce(e),t)}class kn{constructor(e,t,n,i,r){this.virtual_editor=e;this.virtual_document=t;this.connection=n;this.jupyterlab_components=i;this.status_message=r;this.editor_handlers=new Map;this.connection_handlers=new Map;this.wrapper_handlers=new Map;this.is_registered=false}register(){for(let[e,t]of this.editor_handlers){this.virtual_editor.on(e,t)}for(let[e,t]of this.connection_handlers){this.connection.on(e,t)}this.wrapper=this.virtual_editor.getWrapperElement();for(let[e,t]of this.wrapper_handlers){this.wrapper.addEventListener(e,t)}this.is_registered=true}isEnabled(){return true}remove(){for(let[e,t]of this.editor_handlers){this.virtual_editor.off(e,t)}this.editor_handlers.clear();for(let[e,t]of this.connection_handlers){this.connection.off(e,t)}this.connection_handlers.clear();for(let[e,t]of this.wrapper_handlers){this.wrapper.removeEventListener(e,t)}this.wrapper_handlers.clear()}afterChange(e,t){}range_to_editor_range(e,t){let n=hn.lsp_to_cm(e.start);let i=hn.lsp_to_cm(e.end);if(t==null){let e=this.transform_virtual_position_to_root_position(n);t=this.virtual_editor.get_editor_at_root_position(e)}return{start:this.virtual_document.transform_virtual_to_editor(n),end:this.virtual_document.transform_virtual_to_editor(i),editor:t}}position_from_mouse(e){return this.virtual_editor.coordsChar({left:e.clientX,top:e.clientY},"window")}transform_virtual_position_to_root_position(e){let t=this.virtual_document.virtual_lines.get(e.line).editor;let n=this.virtual_document.transform_virtual_to_editor(e);return this.virtual_editor.transform_editor_to_root(t,n)}get_cm_editor(e){return this.virtual_editor.get_cm_editor(e)}get_language_at(e,t){return t.getModeAt(e).name}extract_last_character(e){if(e.origin==="paste"){return e.text[0][e.text.length-1]}else{return e.text[0][0]}}highlight_range(e,t){return e.editor.getDoc().markText(e.start,e.end,{className:t})}is_whole_document_edit(e){let t=this.virtual_document.value;let n=t.split("\n");let i=e.range;let r=hn.lsp_to_ce;return vn(r(i.start),n)===0&&vn(r(i.end),n)===t.length}async apply_edit(e){let t=this.virtual_document.document_info.uri;let n=e.documentChanges?e.documentChanges.map((e=>e)):An(e.changes);let i=null;let r;let o;let s=[];for(let a of n){let e=a.textDocument.uri;if(decodeURI(e)!==decodeURI(t)&&decodeURI(e)!=="/"+decodeURI(t)){s.push("Workspace-wide edits not implemented ("+decodeURI(e)+" != "+decodeURI(t)+")")}else{o=a.edits.length===1&&this.is_whole_document_edit(a.edits[0]);let e;if(!o){i=0;let t=this.virtual_document.value;let n=t.split("\n");let r=new Map;for(let e of a.edits){let t=bn(e.range.start,n);if(r.has(t)){console.warn("Edits should not overlap, ignoring an overlapping edit")}else{r.set(t,e);i+=1}}let o=new _e.Gl((()=>[]));let s="";let l=0;let c=0;let u=0;let d=[...r.keys()].sort(((e,t)=>e-t));for(let e of d){let i=r.get(e);let a=t.slice(l,e);for(let e=0;e<a.split("\n").length;e++){let e=o.get_or_create(c);e.push(u);c+=1;u+=1}s+=a+i.newText;let d=bn(i.range.end,n);let h=t.slice(e,d);for(let e=0;e<i.newText.split("\n").length;e++){if(e<h.length){c+=1}u+=1;let t=o.get_or_create(c);t.push(u)}l=d}s+=t.slice(l,t.length);e={range:{start:{line:0,character:0},end:{line:n.length-1,character:n[n.length-1].length}},newText:s};console.assert(this.is_whole_document_edit(e))}else{e=a.edits[0]}r=this.apply_single_edit(e)}}return{appliedChanges:i,modifiedCells:r,wasGranular:!o,errors:s}}replace_fragment(e,t,n,i,r,o,s=false){let a=this.virtual_document;let l=e.split("\n").slice(n.line-r.line,i.line-r.line).join("\n");if(l.endsWith("\n")){l=l.slice(0,-1)}let c=t.getDoc();let u=c.getValue("\n");let{lines:d}=a.prepare_code_block(u,t);let h=d.join("\n");if(s){let t=hn.cm_to_ce;let n=vn(t(r),d);let i=vn(t(o),d);l=h.slice(0,n)+e+h.slice(i)}if(h===l){return 0}let p=a.decode_code_block(l);let _=c.getCursor();c.replaceRange(p,{line:0,ch:0},{line:i.line-n.line+1,ch:0});try{c.setCursor(_,_.ch,{scroll:false})}catch(g){console.log("Could not place the cursor back",g)}return 1}apply_single_edit(e){let t=this.virtual_document;let n=0;let i=hn.lsp_to_cm(e.range.start);let r=hn.lsp_to_cm(e.range.end);let o=t.get_editor_at_virtual_line(i);let s=t.get_editor_at_virtual_line(r);if(o!==s){let s=o;let a=i;let l=Object.assign({},i);let c=i.line;let u=false;while(c<=r.line){c++;let o=t.get_editor_at_virtual_line({line:c,ch:0});if(o===s){l.line=c;l.ch=0;u=false}else{n+=this.replace_fragment(e.newText,s,a,l,i,r);u=true;a={line:c,ch:0};l={line:c,ch:0};s=o}}if(!u){n+=this.replace_fragment(e.newText,s,a,l,i,r)}}else{n+=this.replace_fragment(e.newText,o,i,r,i,r)}return n}}kn.commands=new Array;const wn=new Set(["()","[]","{}",'""',"''"]);class xn extends kn{constructor(){super(...arguments);this.name="Completion"}get completionCharacters(){if(this._completionCharacters==null||!this._completionCharacters.length){this._completionCharacters=this.connection.getLanguageCompletionCharacters()}return this._completionCharacters}afterChange(e){if(e.text.length&&e.text[0].length>1&&!wn.has(e.text[0])){this.virtual_editor.console.log("Suppressing completion list due to multi-character text change: ",e.text[0]);return}let t=this.extract_last_character(e);if(this.completionCharacters.indexOf(t)>-1){this.virtual_editor.console.log("Will invoke completer after",t);this.jupyterlab_components.invoke_completer(dn.TriggerCharacter)}}}class Cn extends kn{constructor(){super(...arguments);this.name="Selection";this.onMousedown=async()=>{var e,t;if(!((t=(e=this.virtual_editor)===null||e===void 0?void 0:e.virtual_document)===null||t===void 0?void 0:t.document_info)){return}let n;try{n=this.virtual_editor.getDoc().getCursor("start")}catch(o){console.warn("[Kite]: no root position available");return}let i;try{i=this.virtual_editor.document_at_root_position(n)}catch(s){console.warn("[Kite]: Could not obtain virtual document from position",n);return}if(i!==this.virtual_document){return}let r=this.virtual_editor.root_position_to_virtual_position(n);console.log("[Kite] Virtual Position",r);this.connection.sendSelection(r,this.virtual_document.document_info,this.virtual_document.value)}}register(){this.wrapper_handlers.set("mousedown",this.onMousedown);super.register()}remove(){delete this.onMousedown;super.remove()}}var En=n(19270);const jn=20;const Sn=250;class In extends En.Tooltip{constructor(e){super(e);this.position=e.position;this.movetoLineEnd=e.moveToLineEnd}_setGeometry(){const e=this._editor;const t=this.position==null?e.getCursorPosition():this.position;const n=e.getOffsetAt(t);const i=e.getLine(t.line);if(!i){return}let o;if(this.movetoLineEnd){const t=i.substring(0,n).split(/\W+/);const r=t[t.length-1];const s=r?n-r.length:n;o=e.getPositionAt(s)}else{o=t}if(!o){return}const s=e.getCoordinateForPosition(o);const a=window.getComputedStyle(this.node);const l=parseInt(a.paddingLeft,10)||0;r.HoverBox.setGeometry({anchor:s,host:e.host,maxHeight:Sn,minHeight:jn,node:this.node,offset:{horizontal:-1*l},privilege:"below",style:a})}}const Ln="hideDocs";let Tn=false;let Bn;class Mn extends s.Completer{constructor(e,t){super(e);Bn=t;Bn.fetch(Ln).then((e=>{if(e){console.log("[Kite] Stored Hide Docs State:",e);Tn=e}}))}onUpdateRequest(e){var t,n;super.onUpdateRequest(e);const i=this.node.querySelector(".jp-Completer-docpanel");if(Tn){(t=i)===null||t===void 0?void 0:t.classList.add("hidden")}else{(n=i)===null||n===void 0?void 0:n.classList.remove("hidden")}}}function Pn(){Tn=!Tn;Bn.save(Ln,Tn)}var Rn=n(91100);class On{constructor(){this._current=null;this._cursor=null;this._isDisposed=false;this._completionItems=[];this._options=[];this._original=null;this._query="";this._subsetMatch=false;this._typeMap={};this._orderedTypes=[];this._stateChanged=new ge.Signal(this)}get current(){return this._current}set current(e){const t=this._current===e||this._current&&e&&Rn.JSONExt.deepEqual(e,this._current);if(t){return}const n=this._original;if(!n){return}const i=this._cursor;if(!i){return}const r=this._current=e;if(!r){this._stateChanged.emit(undefined);return}const o=n.text.split("\n")[n.line];const s=r.text.split("\n")[r.line];if(!this._subsetMatch&&s.length<o.length){this.reset(true);return}const{start:a,end:l}=i;let c=r.text.substring(a);const u=n.text.substring(l);c=c.substring(0,c.lastIndexOf(u));this._query=c;this._stateChanged.emit(undefined)}get cursor(){return this._cursor}set cursor(e){if(!this.original){return}this._cursor=e}get isDisposed(){return this._isDisposed}get original(){return this._original}set original(e){const t=this._original===e||this._original&&e&&Rn.JSONExt.deepEqual(e,this._original);if(t){return}this._resetKite();this._current=this._original=e;this._stateChanged.emit(undefined)}get query(){return this._query}set query(e){this._query=e}get state(){return this._state}set state(e){this._state=e}get stateChanged(){return this._stateChanged}get subsetMatch(){return this._subsetMatch}set subsetMatch(e){this._subsetMatch=e}completionItems(){let e=this._query;if(e){return this._markup(e)}return this._completionItems}createPatch(e){const t=this._original;const n=this._cursor;const i=this._current;if(!t||!n||!i){return undefined}let{start:r,end:o}=n;o=o+(i.text.length-t.text.length);return{start:r,end:o,value:e}}dispose(){if(this._isDisposed){return}this._isDisposed=true;ge.Signal.clearData(this)}handleCursorChange(e){const t=this.state;this.state=e;(()=>{if(!this._original){return}const{column:t,line:n}=e;const{current:i,original:r}=this;if(!r){return}if(n!==r.line){this.reset(true);return}if(t<r.column){this.reset(true);return}const{cursor:o}=this;if(!o||!i){return}const s=o.end-o.start;const a=r.text.split("\n")[r.line];const l=i.text.split("\n")[i.line];const c=l.length-a.length;if(t>r.column+s+c){this.reset(true);return}})();const n=this.createPatch("");const i=e.column+e.line+e.text.split("\n").slice(0,e.line).map((e=>e.length)).reduce(((e,t)=>e+t),0);if(n&&(i<n.start||i>n.end)){this._resetKite();return}if(t){if(e.column-t.column===1&&e.line-t.line===0){return}if(e.column===1&&e.line-t.line===1){return}this.reset(true)}}handleTextChange(e){this.state=e;const t=this._original;if(!t){return}const{text:n,column:i,line:r}=e;const o=n.split("\n")[r][i-1];if(o&&o.match(/\S/)||e.column>=t.column){this.current=e;return}this.reset(false)}items(){return this._filter()}options(){return(0,U.iter)(this._options)}orderedTypes(){return this._orderedTypes}reset(e=false){if(!e&&this._subsetMatch){return}this._reset();this._stateChanged.emit(undefined)}setCompletionItems(e){if(this.isStale()){this._resetKite();return}if(Rn.JSONExt.deepEqual(e,this._completionItems)){return}const t=this.query;const n=new Set(e.map((e=>e.label)));const i=this._completionItems.filter((e=>{if(e.noFilter){return false}if(n.has(e.label)){return false}return e.label.toLowerCase().startsWith(t.toLowerCase())}));e=e.concat(i);this._completionItems=e;this._orderedTypes=Dn.findOrderedCompletionItemTypes(this._completionItems);this._stateChanged.emit(undefined)}setOptions(e,t){const n=(0,U.toArray)(e||[]);const i=t||{};if(Rn.JSONExt.deepEqual(n,this._options)&&Rn.JSONExt.deepEqual(i,this._typeMap)){return}if(n.length){this._options=n;this._typeMap=i;this._orderedTypes=Dn.findOrderedTypes(i)}else{this._options=[];this._typeMap={};this._orderedTypes=[]}this._stateChanged.emit(undefined)}typeMap(){return this._typeMap}update(e,t){if(this.isStale(t)){this._resetKite();return}this._original=t;if(e.start!==-1){const n={start:v.Text.charIndexToJsIndex(e.start,t.text),end:v.Text.charIndexToJsIndex(e.end,t.text)};this.query=t.text.slice(n.start,n.end);this.cursor=n}this.setCompletionItems(e.items)}_filter(){const e=this._options||[];const t=this._query;if(!t){return(0,U.map)(e,(e=>({raw:e,text:e})))}const n=[];for(const i of e){if(i.toLowerCase().startsWith(t.toLowerCase())){const e=U.StringExt.highlight(i,[...Array(t.length).keys()],Dn.mark);n.push({raw:i,text:e.join("")})}}return(0,U.iter)(n)}_markup(e){const t=this._completionItems;let n=[];for(let i of t){if(i.noFilter||i.label.toLowerCase().startsWith(e.toLowerCase())){let t=U.StringExt.findIndices(i.label.toLowerCase(),e.toLowerCase())||[];let r=U.StringExt.highlight(i.label,t,Dn.mark);n.push({label:r.join(""),insertText:i.insertText?i.insertText:i.label,type:i.type,icon:i.icon,documentation:i.documentation,deprecated:i.deprecated})}}return n}_reset(){this._current=null;this._cursor=null;this._completionItems=[];this._options=[];this._original=null;this._query="";this._subsetMatch=false;this._typeMap={};this._orderedTypes=[]}_resetKite(){this._completionItems=this._completionItems.filter((e=>!e.noFilter));if(this._completionItems.length===0){this._reset()}this._stateChanged.emit(undefined)}isStale(e=this._original){return e.text!==this.state.text||e.line!==this.state.line||e.column!==this.state.column}}var Dn;(function(e){const t=["function","instance","class","module","keyword"];const n=t.reduce(((e,t)=>{e[t]=null;return e}),{});function i(e){return`<mark>${e}</mark>`}e.mark=i;function r(e){const n=new Set;e.forEach((e=>{if(e.type&&!t.includes(e.type)&&!n.has(e.type)){n.add(e.type)}}));const i=Array.from(n);i.sort(((e,t)=>e.localeCompare(t)));return t.concat(i)}e.findOrderedCompletionItemTypes=r;function o(e){const i=Object.keys(e).map((t=>e[t])).filter((e=>!!e&&!(e in n))).sort(((e,t)=>e.localeCompare(t)));return t.concat(i)}e.findOrderedTypes=o})(Dn||(Dn={}));const Nn=[xn,Cn];class Kn{constructor(){this.cleanup=()=>{this.message="";this.changed.emit("")};this.message="";this.changed=new ge.Signal(this)}set(e,t){this.message=e;this.changed.emit("");if(t==null&&t!==-1){setTimeout(this.cleanup,t)}}}const Un={"text/x-rsrc":"r","text/x-r-source":"r","text/x-ipython":"python"};class Fn{constructor(e,t,n,i,r,o){this.app=e;this.widget=t;this.rendermime_registry=n;this.isDisposed=false;this.document_connected=new ge.Signal(this);this.invoke_command=i;this.adapters=new Map;this.status_message=new Kn;this.connection_manager=r;this.state=o;this.widget.context.saveState.connect(this.on_save_state,this);this.connection_manager.closed.connect(this.on_connection_closed,this);this.document_connected.connect(this.connect_completion,this);this.widget.disposed.connect(this.dispose,this)}on_connection_closed(e,{virtual_document:t}){var n;console.log("LSP: connection closed, disconnecting adapter",t.id_path);if(t!==((n=this.virtual_editor)===null||n===void 0?void 0:n.virtual_document)){return}this.dispose()}dispose(){var e,t,n;if(this.isDisposed){return}if((e=this.virtual_editor)===null||e===void 0?void 0:e.virtual_document){this.disconnect_adapter((t=this.virtual_editor)===null||t===void 0?void 0:t.virtual_document)}this.widget.context.saveState.disconnect(this.on_save_state,this);this.connection_manager.closed.disconnect(this.on_connection_closed,this);this.document_connected.disconnect(this.connect_completion,this);this.widget.disposed.disconnect(this.dispose,this);this.widget.context.model.contentChanged.disconnect(this.update_documents,this);for(let i of this.adapters.values()){i.dispose()}this.adapters.clear();this.connection_manager.disconnect_document_signals(this.virtual_editor.virtual_document);this.virtual_editor.dispose();(n=this.current_completion_connector)===null||n===void 0?void 0:n.dispose();delete this.virtual_editor;delete this.app;delete this.widget;delete this._tooltip;delete this.connection_manager;delete this.current_completion_connector;delete this.rendermime_registry;delete this.widget;this.isDisposed=true}get widget_id(){return this.widget.id}get language(){if(Un.hasOwnProperty(this.mime_type)){return Un[this.mime_type]}else{let e=this.mime_type.split(";")[0];let[t,n]=e.split("/");if(t==="application"||t==="text"){if(n.startsWith("x-")){return n.substr(2)}else{return n}}else{return this.mime_type}}}reload_connection(){if(this.virtual_editor==null){return}this.connection_manager.unregister_document(this.virtual_editor.virtual_document);this.virtual_editor.create_virtual_document();this.connect_document(this.virtual_editor.virtual_document,true).catch(console.warn)}on_save_state(e,t){if(this.virtual_editor==null){return}if(t==="completed"){for(let e of this.connection_manager.connections.values()){e.sendSaved(this.virtual_editor.virtual_document.document_info)}}}cancel_completer(){var e;(e=this.current_completion_connector)===null||e===void 0?void 0:e.abort()}async invoke_completer(e){if(this.completion_handler){const n=this.completion_handler.editor;let i;try{i=this.completion_handler.completer.model}catch(t){console.log("Could not cast model into KiteModel",t);return}if(i.original){const t=n.getCursorPosition();const r=n.model.value.text;const o=v.Text.jsIndexToCharIndex(n.getOffsetAt(t),r);const s={text:r,offset:o};const a=i.state;const l=await this.current_completion_connector.with_trigger_kind(e,(()=>this.current_completion_connector.fetch(s)));if(i.setCompletionItems&&l){i.update(l,a);return}}}this.current_completion_connector.with_trigger_kind(e,(()=>this.app.commands.execute(this.invoke_command)))}async on_connected(e){let{virtual_document:t}=e;await this.connect_adapter(e.virtual_document,e.connection);this.document_connected.emit(e);await this.virtual_editor.update_documents().then((()=>{this.document_changed(t,t,true);console.log("LSP: virtual document(s) for",this.document_path,"have been initialized")}))}async connect_document(e,t=false){e.changed.connect(this.document_changed,this);e.foreign_document_opened.connect(this.on_foreign_document_opened,this);const n=await this.connect(e).catch(console.warn);if(!t){return}if(n&&n.connection){n.connection.sendOpenWhenReady(e.document_info)}else{console.warn(`Connection for ${e.path} was not opened`)}}async on_foreign_document_opened(e,t){const{foreign_document:n}=t;await this.connect_document(n,true);n.foreign_document_closed.connect(this.on_foreign_document_closed,this)}on_foreign_document_closed(e,t){const{foreign_document:n}=t;n.foreign_document_closed.disconnect(this.on_foreign_document_closed,this);n.foreign_document_opened.disconnect(this.on_foreign_document_opened,this);n.changed.disconnect(this.document_changed,this)}document_changed(e,t,n=false){var i;let r=this.connection_manager.connections.get(e.id_path);let o=this.adapters.get(e.id_path);if(!((i=r)===null||i===void 0?void 0:i.isReady)){console.log("LSP: Skipping document update signal: connection not ready");return}if(o==null){console.log("LSP: Skipping document update signal: adapter not ready");return}this.cancel_completer();r.sendFullTextChange(e.value,e.document_info);if(!n){this.virtual_editor.with_update_lock((async()=>{await o.updateAfterChange()})).then().catch(console.warn)}}async connect_adapter(e,t){let n=this.create_adapter(e,t);this.adapters.set(e.id_path,n)}disconnect_adapter(e){let t=this.adapters.get(e.id_path);this.adapters.delete(e.id_path);if(t!=null){t.dispose()}}get_features(e){var t;let n=this.adapters.get(e.id_path);return(t=n)===null||t===void 0?void 0:t.features}async connect(e){let t=e.language;console.log(`LSP: will connect using language: ${t}`);let n={virtual_document:e,language:t,document_path:this.document_path};let i=await this.connection_manager.connect(n);await this.on_connected({virtual_document:e,connection:i});return{connection:i,virtual_document:e}}connect_contentChanged_signal(){this.widget.context.model.contentChanged.connect(this.update_documents,this)}create_adapter(e,t){let n=new Array;for(let r of Nn){let i=new r(this.virtual_editor,e,t,this,this.status_message);n.push(i)}let i=new gn(this.virtual_editor,e,this,n);console.log("LSP: Adapter for",this.document_path,"is ready.");t.sendOpenWhenReady(e.document_info);return i}update_documents(e){this.virtual_editor.update_documents().then().catch(console.warn)}get_position_from_context_menu(){let e=this.app.contextMenuHitTest((()=>true));let{left:t,top:n}=e.getBoundingClientRect();let i=this.app._contextMenuEvent;if(i!==undefined){t=i.clientX;n=i.clientY;i.stopPropagation()}return this.virtual_editor.coordsChar({left:t,top:n},"window")}get_context(e){let t=this.virtual_editor.document_at_root_position(e);let n=this.virtual_editor.root_position_to_virtual_position(e);return{document:t,connection:this.connection_manager.connections.get(t.id_path),virtual_position:n,root_position:e,features:this.get_features(t),editor:this.virtual_editor,app:this.app,adapter:this}}get_context_from_context_menu(){let e=this.get_position_from_context_menu();return this.get_context(e)}create_tooltip(e,t,n){this.remove_tooltip();const i=e.kind==="plaintext"?{"text/plain":e.value}:{"text/markdown":e.value};const r=new In({anchor:this.widget.content,bundle:i,editor:this.find_ce_editor(t),rendermime:this.rendermime_registry,position:hn.cm_to_ce(n),moveToLineEnd:false});_n.Widget.attach(r,document.body);this._tooltip=r;return r}remove_tooltip(){if(this._tooltip!==undefined){this._tooltip.dispose()}}registerKiteModules(e,t,n){if(e instanceof s.CompletionHandler){this.completion_handler=e;const r=new On;this.completion_handler.completer.model=r;const o=new Mn({editor:t,model:r},n);try{const e=this.completion_handler.completer;e.onUpdateRequest=o.onUpdateRequest}catch(i){console.error(i)}}}}class qn extends Fn{constructor(e,t,n,i,r,o,s){super(n,e,r,"completer:invoke-file",o,s);this.completion_manager=i;this.jumper=t;this.editor=e.content;this.virtual_editor=new Te((()=>this.language),(()=>this.language_file_extension),(()=>this.document_path),this.cm_editor);this.connect_contentChanged_signal();console.log("LSP: file ready for connection:",this.path);this.connect_document(this.virtual_editor.virtual_document,false).catch(console.warn);this.editor.model.mimeTypeChanged.connect(this.reload_connection,this)}get document_path(){return this.widget.context.path}get mime_type(){return this.editor.model.mimeType}get language_file_extension(){let e=this.document_path.split(".");return e[e.length-1]}get ce_editor(){return this.editor.editor}get cm_editor(){return this.ce_editor.editor}find_ce_editor(e){return this.editor.editor}connect_completion(){this.current_completion_connector=new pn({editor:this.editor.editor,connections:this.connection_manager.connections,virtual_editor:this.virtual_editor});const e=this.completion_manager.register({connector:this.current_completion_connector,editor:this.editor.editor,parent:this.widget});this.registerKiteModules(e,this.editor.editor,this.state)}get path(){return this.widget.context.path}}class Wn{constructor(e){this.language=e.language;this.options=e;this.global_expression=new RegExp(e.pattern,"g");this.test_expression=new RegExp(e.pattern,"g");this.expression=new RegExp(e.pattern);this.standalone=this.options.is_standalone;this.file_extension=this.options.file_extension}has_foreign_code(e){let t=this.test_expression.test(e);this.test_expression.lastIndex=0;return t}extract_foreign_code(e){let t=e.split("\n");let n=new Array;let i=this.global_expression.lastIndex;let r=this.global_expression.exec(e);let o;while(r!=null){let s=r[0];let a=null;let l=s.replace(this.expression,this.options.extract_to_foreign);let c="";if(typeof this.options.extract_arguments!=="undefined"){c=s.replace(this.expression,this.options.extract_arguments);a=mn(c.length,c.split("\n"))}let u=this.global_expression.lastIndex;if(this.options.keep_in_host||this.options.keep_in_host==null){o=e.substring(i,u)}else{if(i===r.index){o=""}else{o=e.substring(i,r.index)+"\n"}}let d=r.index+s.indexOf(l);let h=mn(d,t);let p=mn(d+l.length,t);n.push({host_code:o,foreign_code:c+l,range:{start:h,end:p},virtual_shift:a});i=this.global_expression.lastIndex;r=this.global_expression.exec(e)}if(i!==e.length){let t=e.substring(i,e.length);n.push({host_code:t,foreign_code:null,range:null,virtual_shift:null})}return n}}const $n=10;function Hn(e,t){let n=[];let i=[];let r=[];for(let o=0;o<e.length;o=o+2){let t=e[o];let s=e[o+1];if(t==null){break}else if(t==="i"||t==="-input"){n.push(s)}else if(t==="o"||t==="-output"){i.push(s)}else{r.push("-"+t+" "+s)}}return{inputs:n,outputs:i,rest:e[e.length+t],others:r}}function zn(e,t){let{inputs:n,outputs:i,rest:r,others:o}=Hn(e,t);let s=n.join(", ");if(s){s=", "+s}let a=i.join(", ");if(a){a=a+" = "}return{content:r,others:o.join(" "),inputs:s,outputs:a}}function Jn(e='"',t=false){return"(\\S+)?"+"(?:, (\\S+))?".repeat(9)+"( = )?rpy2\\.ipython\\.rmagic\\.RMagics.R\\("+e+(t?"([\\s\\S]*)":"(.*?)")+e+', "(.*?)"'+"(?:, (\\S+))?".repeat(10)+"\\)"}function Vn(e,...t){let n=[];for(let l=0;l<10;l++){if(t[l]==null){break}n.push(t[l])}let i=[];for(let l=13;l<23;l++){if(t[l]==null){break}i.push(t[l])}let r=i.join(" -i ");if(r){r=" -i "+r}let o=n.join(" -o ");if(o){o=" -o "+o}let s=t[11];let a=t[12];if(a){a=" "+a}return{input:r,output:o,other:a,contents:s}}function Zn(e){return"(?: -(\\S+) (\\S+))?".repeat(e)}function Gn(e,...t){let n=Hn(t,-3);let i;if(n.rest==null){i=""}else{i=n.rest.startsWith(" ")?n.rest.slice(1):n.rest}return i}function Xn(e,...t){let n=Hn(t,-3);let i=n.inputs.map((e=>e+" <- data.frame();")).join(" ");let r=Gn(e,...t);if(i!==""&&r){i+=" "}return i}let Yn={python:[new Wn({language:"r",pattern:"^%%R"+Zn($n)+"\n([^]*)",extract_to_foreign:Gn,extract_arguments:Xn,is_standalone:false,file_extension:"R"}),new Wn({language:"r",pattern:"(?:^|\n)%R"+Zn($n)+"( .*)?\n?",extract_to_foreign:Gn,extract_arguments:Xn,is_standalone:false,file_extension:"R"}),new Wn({language:"python",pattern:"^%%(python|python2|python3|pypy)( .*?)?\n([^]*)",extract_to_foreign:"$3",is_standalone:true,file_extension:"py"}),new Wn({language:"perl",pattern:"^%%(perl)( .*?)?\n([^]*)",extract_to_foreign:"$3",is_standalone:true,file_extension:"pl"}),new Wn({language:"ruby",pattern:"^%%(ruby)( .*?)?\n([^]*)",extract_to_foreign:"$3",is_standalone:true,file_extension:"rb"}),new Wn({language:"sh",pattern:"^%%(sh|bash)( .*?)?\n([^]*)",extract_to_foreign:"$3",is_standalone:true,file_extension:"sh"}),new Wn({language:"html",pattern:"^%%(html --isolated)( .*?)?\n([^]*)",extract_to_foreign:"$3",is_standalone:true,file_extension:"html"}),new Wn({language:"js",pattern:"^%%(js|javascript)( .*?)?\n([^]*)",extract_to_foreign:"$3",is_standalone:false,file_extension:"js"}),new Wn({language:"html",pattern:"^%%(html)( .*?)?\n([^]*)",extract_to_foreign:"$3",is_standalone:false,file_extension:"html"}),new Wn({language:"latex",pattern:"^%%(latex)( .*?)?\n([^]*)",extract_to_foreign:"$3",is_standalone:false,file_extension:"latex"}),new Wn({language:"markdown",pattern:"^%%(markdown)( .*?)?\n([^]*)",extract_to_foreign:"$3",is_standalone:false,file_extension:"md"})]};function Qn(e){return e.replace(/"/g,'\\"')}function ei(e){return e.replace(/\\"/g,'"')}function ti(e){if(!e){return""}else{return Qn(e)}}const ni={python:{line_magics:[{pattern:"!(\\S+)(.*)(\n)?",replacement:'get_ipython().getoutput("$1$2")$3',reverse:{pattern:'get_ipython\\(\\).getoutput\\("(.*?)"\\)(\n)?',replacement:"!$1$2"}},{pattern:"%R"+Zn($n)+"(.*)(\n)?",replacement:(e,...t)=>{let n=zn(t,-4);return`${n.outputs}rpy2.ipython.rmagic.RMagics.R("${n.content}", "${n.others}"${n.inputs})`},reverse:{pattern:Jn(),replacement:(e,...t)=>{let n=Vn(e,...t);return"%R"+n.input+n.output+n.other+n.contents}}},{pattern:"%(\\S+)(.*)(\n)?",replacement:(e,t,n,i)=>{n=ti(n);i=i||"";return`get_ipython().run_line_magic("${t}", "${n}")${i}`},reverse:{pattern:'get_ipython\\(\\).run_line_magic\\("(.*?)", "(.*?)"\\)(\n)?',replacement:(e,t,n)=>{n=ei(n);return`%${t}${n}`}}}],cell_magics:[{pattern:"^%%R"+Zn($n)+"(\n)?([\\s\\S]*)",replacement:(e,...t)=>{let n=zn(t,-3);return`${n.outputs}rpy2.ipython.rmagic.RMagics.R("""${n.content}""", "${n.others}"${n.inputs})`},reverse:{pattern:Jn('"""',true),replacement:(e,...t)=>{let n=Vn(e,...t);return"%%R"+n.input+n.output+n.other+"\n"+n.contents}}},{pattern:"^%%(\\S+)(.*\n)([\\s\\S]*)",replacement:(e,t,n,i,r,o)=>{n=ti(n);if(n){n=n.slice(0,-1)}i=i.replace(/"""/g,'\\"\\"\\"');return`get_ipython().run_cell_magic("${t}", "${n}", """${i}""")`},reverse:{pattern:'^get_ipython\\(\\).run_cell_magic\\("(.*?)", "(.*?)", """([\\s\\S]*)"""\\)',replacement:(e,t,n,i)=>{i=i.replace(/\\"\\"\\"/g,'"""');n=ei(n);return`%%${t}${n}\n${i}`}}}]}};class ii{constructor(e){this.virtual_editor=e}markText(e,t,n){let i=this.virtual_editor.virtual_document.get_editor_at_source_line(e);let r=this.virtual_editor;return i.getDoc().markText(r.transform_from_root_to_editor(e),r.transform_from_root_to_editor(t),n)}getCursor(e){let t=this.virtual_editor.notebook.activeCell;if(t==null){return}let n=t.editor;let i=n.editor.getDoc().getCursor(e);return this.virtual_editor.transform_from_notebook_to_root(t,i)}}class ri extends Le{constructor(e,t,n,i,r,o,s){super(n,i,(()=>s()+"."+i()),r,o,false);this.notebook=e;this.wrapper=t;this.has_cells=true;this.cell_to_corresponding_source_line=new Map;this.cm_editor_to_cell=new Map;this.overrides_registry=r;this.code_extractors=o;this.language=n;this._proxy=new Proxy(this,{get:function(e,t,n){if(!(t in e)){console.warn(`Unimplemented method ${t} for VirtualEditorForNotebook`);return}else{return Reflect.get(e,t,n)}}});return this._proxy}dispose(){if(this.isDisposed){return}this.cm_editor_to_cell.clear();this.cell_to_corresponding_source_line.clear();super.dispose();this.forEveryBlockEditor=null;this._proxy=null}transform_from_notebook_to_root(e,t){let n=this.cell_to_corresponding_source_line.get(e);if(n===undefined){throw Error("Cell not found in cell_line_map")}return Object.assign(Object.assign({},t),{line:t.line+n})}transform_editor_to_root(e,t){let n=this.cm_editor_to_cell.get(e);return this.transform_from_notebook_to_root(n,t)}transform_from_root_to_editor(e){return this.virtual_document.transform_source_to_editor(e)}get_editor_index(e){let t=this.get_cell_at(e);return this.notebook.widgets.findIndex((e=>t===e))}get_cm_editor(e){return this.get_editor_at_root_line(e)}addKeyMap(e,t){return}addLineClass(e,t,n){return undefined}addLineWidget(e,t,n){return undefined}addOverlay(e,t){for(let n of this.notebook.widgets){let i=n.editor;i.editor.addOverlay(e,t)}}addPanel(e,t){return undefined}charCoords(e,t){try{let n=this.get_editor_at_root_line(e);return n.charCoords(e,t)}catch(n){console.log(n);return{bottom:0,left:0,right:0,top:0}}}coordsChar(e,t){for(let n of this.notebook.widgets){let i=n.editor;let r=i.editor.coordsChar(e,t);if(r.outside===1){continue}return this.transform_from_notebook_to_root(n,r)}}cursorCoords(e,t){if(typeof e!=="boolean"){let t=this.get_editor_at_root_line(e);return t.cursorCoords(this.transform_from_root_to_editor(e))}return{bottom:0,left:0,top:0}}get any_editor(){return this.notebook.widgets[0].editor.editor}defaultCharWidth(){return this.any_editor.defaultCharWidth()}defaultTextHeight(){return this.any_editor.defaultTextHeight()}endOperation(){for(let e of this.notebook.widgets){let t=e.editor;t.editor.endOperation()}}execCommand(e){for(let t of this.notebook.widgets){let n=t.editor;n.editor.execCommand(e)}}getDoc(){let e=new ii(this);return e}get_editor_at_root_line(e){return this.virtual_document.root.get_editor_at_source_line(e)}getTokenAt(e,t){if(e===undefined){return}let n=this.get_editor_at_root_line(e);return n.getTokenAt(this.transform_from_root_to_editor(e))}getTokenTypeAt(e){let t=this.virtual_document.get_editor_at_source_line(e);return t.getTokenTypeAt(this.transform_from_root_to_editor(e))}get_cell_at(e){let t=this.get_editor_at_virtual_line(e);return this.cm_editor_to_cell.get(t)}get_editor_at_virtual_line(e){return this.virtual_document.get_editor_at_virtual_line(e)}perform_documents_update(){if(this.isDisposed){return}this.virtual_document.clear();this.cell_to_corresponding_source_line.clear();this.cm_editor_to_cell.clear();if(this.notebook.isDisposed){return}this.notebook.widgets.every((e=>{let t=e.editor;let n=t.editor;this.cm_editor_to_cell.set(n,e);if(e.model.type==="code"){let t=n.getValue();this.cell_to_corresponding_source_line.set(e,this.virtual_document.last_source_line);this.virtual_document.append_code_block(t,n)}return true}))}getWrapperElement(){return this.wrapper}heightAtLine(e,t,n){return 0}isReadOnly(){return false}lineAtHeight(e,t){return 0}addEventListener(e,t){this.forEveryBlockEditor((n=>{n.getWrapperElement().addEventListener(e,t)}))}forEveryBlockEditor(e,t=true){const n=new Set;for(let i of this.notebook.widgets){let t=i.editor.editor;if(i.model.type==="code"){n.add(i);e(t)}}if(t){this.notebook.activeCellChanged.connect(((t,i)=>{if(i==null){return}let r=i.editor.editor;if(!n.has(i)&&i.model.type==="code"){e(r)}}))}}find_cell_by_editor(e){let t=this.notebook.widgets;for(let n=0;n<t.length;n++){let i=t[n];let r=i.editor.editor;if(r===e){return{cell_id:n,cell:i}}}}}class oi extends Fn{constructor(e,t,n,i,r,o,s){super(n,e,r,"completer:invoke-notebook",o,s);this.is_ready=()=>{var e;return!this.widget.isDisposed&&this.widget.context.isReady&&this.widget.content.isVisible&&this.widget.content.widgets.length>0&&((e=this.widget.context.sessionContext.session)===null||e===void 0?void 0:e.kernel)!=null};this.editor=e.content;this.completion_manager=i;this.jumper=t;this.init_once_ready().catch(console.warn)}async update_language_info(){this._language_info=(await this.widget.context.sessionContext.session.kernel.info).language_info}async on_kernel_changed(e,t){if(!t.newValue){console.log("LSP: kernel was shut down");return}try{await this.update_language_info();console.log(`LSP: Changed to ${this._language_info.name} kernel, reconnecting`);await(0,_e.EU)(this.is_ready,-1);this.reload_connection()}catch(n){console.warn(n);this.reload_connection()}}dispose(){if(this.isDisposed){return}this.widget.context.sessionContext.kernelChanged.disconnect(this.on_kernel_changed,this);this.widget.content.activeCellChanged.disconnect(this.on_completions,this);if(this.current_completion_handler){delete this.current_completion_handler.connector;delete this.current_completion_handler.editor;delete this.current_completion_handler}super.dispose()}get document_path(){return this.widget.context.path}language_info(){return this._language_info}get mime_type(){let e=this.language_info();if(!e){return this.widget.content.codeMimetype}return e.mimetype}get language_file_extension(){let e=this.language_info();if(!e){return null}return e.file_extension.replace(".","")}find_ce_editor(e){return this.virtual_editor.cm_editor_to_cell.get(e).editor}async init_once_ready(){console.log("LSP: waiting for",this.document_path,"to fully load");await this.widget.context.sessionContext.ready;await(0,_e.EU)(this.is_ready,-1);await this.update_language_info();console.log("LSP:",this.document_path,"ready for connection");this.virtual_editor=new ri(this.widget.content,this.widget.node,(()=>this.language),(()=>this.language_file_extension),ni,Yn,(()=>this.document_path));this.connect_contentChanged_signal();this.connect_document(this.virtual_editor.virtual_document,false).catch(console.warn);this.widget.context.sessionContext.kernelChanged.connect(this.on_kernel_changed,this)}set_completion_connector(e){if(this.current_completion_connector){delete this.current_completion_connector}this.current_completion_connector=new pn({editor:e.editor,connections:this.connection_manager.connections,virtual_editor:this.virtual_editor,session:this.widget.sessionContext.session})}connect_completion(){const e=this.widget.content.activeCell;console.log("Connecting Completion Notebook");if(e==null){return}this.set_completion_connector(e);const t=this.completion_manager.register({connector:this.current_completion_connector,editor:e.editor,parent:this.widget});this.current_completion_handler=t;this.registerKiteModules(t,e.editor,this.state);this.widget.content.activeCellChanged.connect(this.on_completions,this)}on_completions(e,t){if(t==null){return}this.current_completion_connector.abort();this.set_completion_connector(t);this.current_completion_handler.editor=t.editor;this.current_completion_handler.connector=this.current_completion_connector}}const si=new Map;const ai=new Map;function li(e){let t=e.get_position_from_context_menu();if(!t){return false}let n=e.virtual_editor.getTokenAt(t);return n.string!==""}class ci{constructor(e,t,n,i){this.app=e;this.palette=t;this.tracker=n;this.suffix=i;this.add_to_palette=true;this.category="Language Server Protocol"}add(e){for(let t of e){let e=this.create_id(t);this.app.commands.addCommand(e,{execute:()=>this.execute(t),isEnabled:()=>this.is_enabled(t),isVisible:()=>this.is_visible(t),label:t.label});if(this.should_attach(t)){this.attach_command(t)}if(this.add_to_palette){this.palette.addItem({command:e,category:this.category})}}}should_attach(e){if(e.attach_to==null){return true}return e.attach_to.has(this.entry_point)}create_id(e){return"lsp:"+e.id+"-"+this.suffix}}class ui extends(null&&ci){constructor(e,t,n,i,r,o){super(e,t,n,i);this.rank_group=r;this.rank_group_size=o}attach_command(e){this.app.contextMenu.addItem({selector:this.selector,command:this.create_id(e),rank:this.get_rank(e)})}add_context_separator(e){this.app.contextMenu.addItem({type:"separator",selector:this.selector,rank:this.rank_group+e})}execute(e){let t=this.get_context();if(t){e.execute(t)}}get is_context_menu_open(){return this.app.contextMenu.menu.isAttached}get is_widget_current(){return this.tracker.currentWidget!=null&&this.tracker.currentWidget===this.app.shell.currentWidget}is_enabled(){if(this.is_context_menu_open){return li(this.current_adapter)}else{return this.is_widget_current}}get_context(){let e=null;if(this.is_context_menu_open){try{e=this.current_adapter.get_context_from_context_menu()}catch(t){console.warn("contextMenu is attached, but could not get the context",t);e=null}}if(e==null){e=this.context_from_active_document()}return e}is_visible(e){var t;try{let n=this.get_context();return n!=null&&this.current_adapter&&((t=n.connection)===null||t===void 0?void 0:t.isReady)&&e.is_enabled(n)}catch(n){console.warn("is_visible failed",n);return false}}get_rank(e){let t=e.is_rank_relative==null?true:e.is_rank_relative;if(t&&this.rank_group!=null&&this.rank_group_size){let t=e.rank!=null?e.rank:0;return this.rank_group+t/this.rank_group_size}else{return e.rank!=null?e.rank:Infinity}}}class di extends(null&&ui){constructor(){super(...arguments);this.selector=".jp-Notebook .jp-CodeCell .jp-Editor";this.entry_point=CommandEntryPoint.CellContextMenu}get current_adapter(){let e=this.tracker.currentWidget;return ai.get(e.id)}context_from_active_document(){var e,t;if(!this.is_widget_current){return null}let n=this.tracker.currentWidget;let i=n.content.activeCell;let r=i.editor;let o=r.getCursorPosition();let s=PositionConverter.ce_to_cm(o);let a=(e=this.current_adapter)===null||e===void 0?void 0:e.virtual_editor;if(!a){return null}let l=a.transform_from_notebook_to_root(i,s);return(t=this.current_adapter)===null||t===void 0?void 0:t.get_context(l)}}class hi extends(null&&ui){constructor(){super(...arguments);this.selector=".jp-FileEditor";this.entry_point=CommandEntryPoint.FileEditorContextMenu}get current_adapter(){var e,t;let n=(t=(e=this.tracker.currentWidget)===null||e===void 0?void 0:e.content)===null||t===void 0?void 0:t.id;return n&&si.get(n)}context_from_active_document(){var e;if(!this.is_widget_current){return null}let t=this.tracker.currentWidget.content.editor;let n=t.getCursorPosition();let i=PositionConverter.ce_to_cm(n);return(e=this.current_adapter)===null||e===void 0?void 0:e.get_context(i)}}const pi="kite";const _i={tutorial:"kite:tutorial",copilot:"kite:copilot",settings:"kite:settings",help:"kite:help",toggleDocs:"kite:toggle-docs"};const gi=[{id:_i.copilot,options:{label:"Kite: Open Copilot",execute:()=>{window.open("kite://home")}}},{id:_i.settings,options:{label:"Kite: Engine Settings",execute:()=>{window.open("kite://settings")}}},{id:_i.help,options:{label:"Kite: Help",execute:()=>{window.open("https://help.kite.com/category/138-jupyterlab-plugin")}}},{id:_i.toggleDocs,options:{label:"Kite: Toggle Docs Panel",execute:()=>{Pn()}}}];function fi(e,t){gi.forEach((n=>{e.commands.addCommand(n.id,n.options);t.addItem({command:n.id,category:pi})}))}const mi="onboardingShown";class vi{constructor(e,t,n,i,r){this.app=e;this.palette=t;this.documentManager=n;this.state=i;this.connectionManager=r;this.registerCommand()}registerCommand(){const e={id:_i.tutorial,options:{label:"Kite: Tutorial",execute:()=>{this._show()}}};if(this.app.commands.hasCommand(e.id)){return}this.app.commands.addCommand(e.id,e.options);this.palette.addItem({command:e.id,category:pi})}async showOnBoot(){const e=await this.state.fetch(mi);if(!e){this._show()}this.state.save(mi,true)}async _fetch(){const e=new Ae("python","",{},{},false,".py",false);const t={virtual_document:e,language:"python",document_path:""};const n=await this.connectionManager.connect(t);if(n){return n.fetchKiteOnboarding()}else{return""}}async _show(){const e=await this._fetch();if(e){this.documentManager.openOrReveal(e)}}}var yi=n(54257);var Ai=n(65173);var bi=n(22222);var ki=n.n(bi);var wi=n(8195);var xi={};xi.insert="head";xi.singleton=false;var Ci=J()(wi.Z,xi);const Ei=wi.Z.locals||{};var ji;(function(e){e["RequirementsNotMet"]="RequirementsNotMet";e["KiteEngineNotInstalled"]="KiteNotInstalled";e["BelowMinJLabVersion"]="BelowMinJLabVersion";e["IncompatibleJLabLSPPlugin"]="HasIncompatibleJLabLSP";e["JLabKiteHasUpdate"]="JLabKiteHasUpdate";e["Healthy"]="Healthy"})(ji||(ji={}));const Si="2.2.0";class Ii extends yi.ListModel{constructor(e,t,n){super(e,t);this.connectionManager=n}async checkHealth(){try{const e=await this.getHealth();await this.notifyHealth(e);if(e===ji.IncompatibleJLabLSPPlugin){this.trackIncompatiblity()}}catch(e){console.log("Health check failed:",e)}}async notifyHealth(e){const t={autoClose:false,closeOnClick:false,className:"--jp-kite-notifcontainer"};let n;switch(e){case ji.RequirementsNotMet:n=await Ai.INotification.notify(Q().createElement(Li,{title:"Kite is missing some dependencies"},Q().createElement("p",{className:"--jp-kite-innernotif-main-msg"},"The jupyterlab-kite extension will not work because you using an unsupported version of JupyterLab and you are missing the desktop application."),Q().createElement("p",null,"To fix this, please upgrade JupyterLab to version 2.2 or later and install the Kite Engine desktop application."),Q().createElement(Ti,{label:"Fix This",onClick:()=>{window.open("https://www.kite.com/download?utm_source=jupyterlab-plugin&utm_content=update-jlab","_blank");Ai.INotification.dismiss(n)}})),Object.assign(Object.assign({},t),{type:"error"}));break;case ji.BelowMinJLabVersion:n=await Ai.INotification.notify(Q().createElement(Li,{title:"Kite is missing some dependencies"},Q().createElement("p",{className:"--jp-kite-innernotif-main-msg"},"The jupyterlab-kite extension will not work because you are using an unsupported version of JupyterLab."),Q().createElement("p",null,"To fix this, please upgrade JupyterLab to version 2.2 or later."),Q().createElement(Ti,{label:"Fix This",onClick:()=>{window.open("https://stackoverflow.com/questions/55772171/how-to-update-jupyterlab-using-conda-or-pip","_blank");Ai.INotification.dismiss(n)}})),Object.assign(Object.assign({},t),{type:"error"}));break;case ji.KiteEngineNotInstalled:n=await Ai.INotification.notify(Q().createElement(Li,{title:"Kite is missing some dependencies"},Q().createElement("p",{className:"--jp-kite-innernotif-main-msg"},"The jupyterlab-kite extension will not work because you are missing the Kite Engine desktop application."),Q().createElement("p",null,"To fix this, please install the Kite Engine desktop application."),Q().createElement(Ti,{label:"Fix This",onClick:()=>{window.open("https://www.kite.com/download?utm_source=jupyterlab-plugin","_blank");Ai.INotification.dismiss(n)}})),Object.assign(Object.assign({},t),{type:"error"}));break;case ji.IncompatibleJLabLSPPlugin:n=await Ai.INotification.notify(Q().createElement(Li,{title:"Kite may not work properly in your environment"},Q().createElement("p",{className:"--jp-kite-innernotif-main-msg"},"The jupyterlab-kite extension is incompatible with your JupyterLab configuration."),Q().createElement("p",null,"It will not work with the jupyterlab-lsp extension."),Q().createElement(Ti,{label:"Learn More",onClick:()=>{window.open("https://help.kite.com/article/143-how-to-install-the-jupyterlab-plugin#troubleshooting","_blank");Ai.INotification.dismiss(n)}})),Object.assign(Object.assign({},t),{type:"warning"}));break;case ji.JLabKiteHasUpdate:n=await Ai.INotification.notify(Q().createElement(Q().Fragment,null,Q().createElement(Li,{title:"There is a new version of Kite available"},Q().createElement("p",{className:"--jp-kite-innernotif-main-msg"},"Please update your jupyterlab-kite extension with the terminal commands:"),Q().createElement("ul",{className:"--jp-kite-innernotif-list --jp-kite-innernotif-no-bullets"},Q().createElement("li",{className:"--jp-kite-innernotif-li"},"pip install --upgrade jupyter-kite"),Q().createElement("li",{className:"--jp-kite-innernotif-li"},"jupyter labextension update @kiteco/jupyterlab-kite")),Q().createElement(Ti,{label:"Update",onClick:()=>{window.open("https://help.kite.com/article/143-how-to-install-the-jupyterlab-plugin#updating-the-plugin");Ai.INotification.dismiss(n)}}))),Object.assign(Object.assign({},t),{type:"info"}));break}}async getHealth(){const e=await this.fetchKiteInstalled();const t=v.PageConfig.getOption("appVersion");if(!e&&ki().lt(t,Si)){return ji.RequirementsNotMet}else if(!e){return ji.KiteEngineNotInstalled}else if(ki().lt(t,Si)){return ji.BelowMinJLabVersion}const n=await this.queryInstalled(false);if(n["@krassowski/jupyterlab-lsp"]){return ji.IncompatibleJLabLSPPlugin}if(yi.ListModel.entryHasUpdate(n["@kiteco/jupyterlab-kite"])){return ji.JLabKiteHasUpdate}return ji.Healthy}async trackIncompatiblity(){const e=new Ae("python","",{},{},false,".py",false);const t={virtual_document:e,language:"python",document_path:""};const n=await this.connectionManager.connect(t);n.track("mixpanel","jupyterlab_incompatibility",{type:"jupyter-lab-lsp"})}async fetchKiteInstalled(){const e=await oe.ServerConnection.makeRequest(this.kiteInstalledUrl,{method:"GET"},oe.ServerConnection.makeSettings());return e.ok&&await e.json()}get kiteInstalledUrl(){return v.URLExt.join(v.PageConfig.getBaseUrl(),ae.URL_NS,"kite_installed")}}Ii.CreateAsync=async(e,t,n)=>{const i=await t.load("@jupyterlab/extensionmanager-extension:plugin");return new Ii(e,i,n)};function Li(e){return Q().createElement(Q().Fragment,null,Q().createElement("p",{className:"--jp-kite-innernotif-title"},e.title),Q().createElement("div",{className:"--jp-kite-innernotif-body"},e.children))}function Ti(e){return Q().createElement("div",{className:"--jp-kite-buttonbar"},Q().createElement("div",{className:"--jp-kite-buttonbar-spacer"}),Q().createElement("button",{className:"--jp-kite-innernotif-button",onClick:e.onClick},e.label))}class Bi{constructor(e){this._sessionsChanged=new ge.Signal(this);this._sessions=new Map;this._settings=e.settings||oe.ServerConnection.makeSettings();this._baseUrl=e.baseUrl||v.PageConfig.getBaseUrl();this.fetchSessions().catch(console.warn)}get statusUrl(){return v.URLExt.join(this._baseUrl,ae.URL_NS,"status")}get sessionsChanged(){return this._sessionsChanged}get sessions(){return this._sessions}getServerId(e){for(const[t,n]of this._sessions.entries()){if(e.language){if(n.spec.languages&&n.spec.languages.indexOf(e.language)!==-1){return t}}}return""}async fetchSessions(){let e=await oe.ServerConnection.makeRequest(this.statusUrl,{method:"GET"},this._settings);if(!e.ok){throw new Error(e.statusText)}let t;try{t=(await e.json()).sessions}catch(i){console.warn(i);return}for(const r of Object.keys(t)){if(this._sessions.has(r)){Object.assign(this._sessions.get(r),t[r])}else{this._sessions.set(r,t[r])}}const n=this._sessions.keys();for(const r in n){if(!t[r]){this._sessions.delete(r)}}this._sessionsChanged.emit(void 0)}}var Mi=i.JupyterFrontEnd.IPaths;const Pi={id:"@kiteco/jupyterlab-kite:plugin",requires:[l.IEditorTracker,c.INotebookTracker,d.ISettingRegistry,r.ICommandPalette,a.IDocumentManager,s.ICompletionManager,u.IRenderMimeRegistry,Mi,i.ILabShell,p.IStatusBar,h.IStateDB],activate:async(e,t,n,i,r,s,a,l,c,u,d,h)=>{fi(e,r);const p=new Bi({});const _=new ce;const g=new fe({language_server_manager:p,kite_status_model:_});const f=await Ii.CreateAsync(e.serviceManager,i,g);f.checkHealth();const m=new vi(e,r,s,h,g);const v=new re(_);v.model.connection_manager=g;u.currentChanged.connect((()=>{const e=u.currentWidget;if(!e){return}let i=null;if(n.has(e)){let t=e.id;i=ai.get(t)}else if(t.has(e)){let t=e.content.id;i=si.get(t)}if(i!=null){v.model.adapter=i}m.showOnBoot()}));d.registerStatusItem("@kiteco/jupyterlab-kite:language-server-status",{item:v,align:"left",rank:1,isActive:()=>!!(u.currentWidget&&(t.currentWidget||n.currentWidget)&&(u.currentWidget===t.currentWidget||u.currentWidget===n.currentWidget))});t.widgetUpdated.connect(((e,t)=>{console.log(e);console.log(t)}));const y=t=>{let n=t.content;if(n.editor instanceof o.CodeMirrorEditor){let i=new K(t,s);let r=new qn(t,i,e,a,l,g,h);si.set(n.id,r);const o=()=>{si.delete(n.id);t.disposed.disconnect(o);t.context.pathChanged.disconnect(c);r.dispose();if(v.model.adapter===r){v.model.adapter=null}};const c=()=>{o();y(t)};t.disposed.connect(o);t.context.pathChanged.connect(c);v.model.adapter=r}};t.widgetAdded.connect(((e,t)=>{y(t)}));const A=t=>{let n=new H(t,s);let i=new oi(t,n,e,a,l,g,h);ai.set(t.id,i);const r=()=>{ai.delete(t.id);t.disposed.disconnect(r);t.context.pathChanged.disconnect(o);i.dispose();if(v.model.adapter===i){v.model.adapter=null}};const o=()=>{r();A(t)};t.context.pathChanged.connect(o);t.disposed.connect(r);v.model.adapter=i};n.widgetAdded.connect((async(e,t)=>{A(t)}))},autoStart:true};const Ri=Pi},4576:(e,t,n)=>{"use strict";n.d(t,{_v:()=>s,EU:()=>a,Gl:()=>c});var i=n(77857);var r=n.n(i);const o=/^file:\/\/([^\/]+|\/[A-Z]:)/;async function s(e){return new Promise((t=>{setTimeout((()=>{t()}),e)}))}function a(e,t=35,n=50,i=(e=>e)){return new Promise((async(r,o)=>{let a=0;while(e()!==true){a+=1;if(t!==-1&&a>t){o("Too many retrials");break}n=i(n);await s(n)}r(e)}))}function l(e,t){if(e.getModifierState!==undefined){return e.getModifierState(t)}switch(t){case"Shift":return e.shiftKey;case"Alt":return e.altKey;case"Control":return e.ctrlKey;case"Meta":return e.metaKey;default:console.warn(`State of the modifier key "${t}" could not be determined.`)}}class c extends Map{constructor(e,t){super(t);this.default_factory=e}get(e){return this.get_or_create(e)}get_or_create(e,...t){if(this.has(e)){return super.get(e)}else{let n=this.default_factory(e,...t);this.set(e,n);return n}}}function u(){return PageConfig.getOption("rootUri")}function d(e,t){const n=h(e)&&h(t);if(n){return p(e)===p(t)}else{return e===t}}function h(e){return e.match(o)}function p(e){return e.replace(o,(e=>e.toLowerCase()))}function _(e,t){t=t||u();if(t==null){return null}if(e.startsWith(t)){return e.replace(t,"")}return null}},83100:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(94015);var r=n.n(i);var o=n(23645);var s=n.n(o);var a=s()(r());a.push([e.id,".lsp-floating-console {\n  position: absolute;\n  width: 600px;\n  height: 350px;\n  right: 0;\n  bottom: 0;\n  background: rgba(255, 255, 255, 0.8);\n  border: 3px solid rgba(204, 204, 204, 0.7);\n  font-size: 12px;\n  overflow-y: auto;\n  margin: 0;\n  list-style-type: none;\n  padding: 5px;\n}\n\n.lsp-code {\n  font-family: monospace;\n  background: #eee;\n  border-radius: 2px;\n  padding: 2px 5px;\n}\n\n.lsp-kind {\n  padding: 2px 5px;\n}\n","",{version:3,sources:["webpack://./node_modules/@kiteco/jupyterlab-kite/style/console.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,YAAY;EACZ,aAAa;EACb,QAAQ;EACR,SAAS;EACT,oCAAoC;EACpC,0CAA0C;EAC1C,eAAe;EACf,gBAAgB;EAChB,SAAS;EACT,qBAAqB;EACrB,YAAY;AACd;;AAEA;EACE,sBAAsB;EACtB,gBAAgB;EAChB,kBAAkB;EAClB,gBAAgB;AAClB;;AAEA;EACE,gBAAgB;AAClB",sourcesContent:[".lsp-floating-console {\n  position: absolute;\n  width: 600px;\n  height: 350px;\n  right: 0;\n  bottom: 0;\n  background: rgba(255, 255, 255, 0.8);\n  border: 3px solid rgba(204, 204, 204, 0.7);\n  font-size: 12px;\n  overflow-y: auto;\n  margin: 0;\n  list-style-type: none;\n  padding: 5px;\n}\n\n.lsp-code {\n  font-family: monospace;\n  background: #eee;\n  border-radius: 2px;\n  padding: 2px 5px;\n}\n\n.lsp-kind {\n  padding: 2px 5px;\n}\n"],sourceRoot:""}]);const l=a},47102:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(94015);var r=n.n(i);var o=n(23645);var s=n.n(o);var a=n(48641);var l=n(75588);var c=n(15848);var u=n(23915);var d=s()(r());d.i(a.Z);d.i(l.Z);d.i(c.Z);d.i(u.Z);d.push([e.id,'.cm-lsp-diagnostic {\n  text-decoration-line: underline;\n  /* For Chrome */\n  text-decoration-skip-ink: none;\n}\n\n.cm-lsp-diagnostic-Error {\n  /*\n    "wavy" would be ideal, but there seems to be a bug in Chrome which makes it\n    fail to render the last character see:\n    https://stackoverflow.com/questions/57559588/how-to-make-the-wavy-underline-extend-cover-all-the-characters-in-chrome\n    an alternative would be to use background image trick to simulate the underline\n  */\n\n  text-decoration-style: var(\n    --jp-editor-mirror-lsp-diagnostic-decoration-style\n  );\n  text-decoration-color: var(\n    --jp-editor-mirror-lsp-diagnostic-error-decoration-color\n  );\n}\n\n.cm-lsp-diagnostic-Warning {\n  text-decoration-style: var(\n    --jp-editor-mirror-lsp-diagnostic-decoration-style\n  );\n  text-decoration-color: var(\n    --jp-editor-mirror-lsp-diagnostic-warning-decoration-color\n  );\n}\n\n.cm-lsp-diagnostic-Information {\n  text-decoration-style: var(\n    --jp-editor-mirror-lsp-diagnostic-decoration-style\n  );\n  text-decoration-color: var(\n    --jp-editor-mirror-lsp-diagnostic-information-decoration-color\n  );\n}\n\n.cm-lsp-diagnostic-Hint {\n  text-decoration-style: var(\n    --jp-editor-mirror-lsp-diagnostic-decoration-style\n  );\n  text-decoration-color: var(\n    --jp-editor-mirror-lsp-diagnostic-hint-decoration-color\n  );\n}\n\n/* hover */\n.cm-lsp-hover-available {\n  text-decoration: var(--jp-editor-mirror-lsp-hover-decoration-style);\n  text-decoration-color: var(--jp-editor-mirror-lsp-hover-decoration-color);\n}\n\n/* highlight */\n.cm-lsp-highlight {\n  background-color: var(--jp-editor-mirror-lsp-highlight-background-color);\n}\n',"",{version:3,sources:["webpack://./node_modules/@kiteco/jupyterlab-kite/style/highlight.css"],names:[],mappings:"AAKA;EACE,+BAA+B;EAC/B,eAAe;EACf,8BAA8B;AAChC;;AAEA;EACE;;;;;GAKC;;EAED;;GAEC;EACD;;GAEC;AACH;;AAEA;EACE;;GAEC;EACD;;GAEC;AACH;;AAEA;EACE;;GAEC;EACD;;GAEC;AACH;;AAEA;EACE;;GAEC;EACD;;GAEC;AACH;;AAEA,UAAU;AACV;EACE,mEAAmE;EACnE,yEAAyE;AAC3E;;AAEA,cAAc;AACd;EACE,wEAAwE;AAC1E",sourcesContent:["@import url('./variables/base.css');\n@import url('./variables/cm-themes.css');\n@import url('./variables/jupyterlab-dark.css');\n@import url('./variables/jupyterlab-light.css');\n\n.cm-lsp-diagnostic {\n  text-decoration-line: underline;\n  /* For Chrome */\n  text-decoration-skip-ink: none;\n}\n\n.cm-lsp-diagnostic-Error {\n  /*\n    \"wavy\" would be ideal, but there seems to be a bug in Chrome which makes it\n    fail to render the last character see:\n    https://stackoverflow.com/questions/57559588/how-to-make-the-wavy-underline-extend-cover-all-the-characters-in-chrome\n    an alternative would be to use background image trick to simulate the underline\n  */\n\n  text-decoration-style: var(\n    --jp-editor-mirror-lsp-diagnostic-decoration-style\n  );\n  text-decoration-color: var(\n    --jp-editor-mirror-lsp-diagnostic-error-decoration-color\n  );\n}\n\n.cm-lsp-diagnostic-Warning {\n  text-decoration-style: var(\n    --jp-editor-mirror-lsp-diagnostic-decoration-style\n  );\n  text-decoration-color: var(\n    --jp-editor-mirror-lsp-diagnostic-warning-decoration-color\n  );\n}\n\n.cm-lsp-diagnostic-Information {\n  text-decoration-style: var(\n    --jp-editor-mirror-lsp-diagnostic-decoration-style\n  );\n  text-decoration-color: var(\n    --jp-editor-mirror-lsp-diagnostic-information-decoration-color\n  );\n}\n\n.cm-lsp-diagnostic-Hint {\n  text-decoration-style: var(\n    --jp-editor-mirror-lsp-diagnostic-decoration-style\n  );\n  text-decoration-color: var(\n    --jp-editor-mirror-lsp-diagnostic-hint-decoration-color\n  );\n}\n\n/* hover */\n.cm-lsp-hover-available {\n  text-decoration: var(--jp-editor-mirror-lsp-hover-decoration-style);\n  text-decoration-color: var(--jp-editor-mirror-lsp-hover-decoration-color);\n}\n\n/* highlight */\n.cm-lsp-highlight {\n  background-color: var(--jp-editor-mirror-lsp-highlight-background-color);\n}\n"],sourceRoot:""}]);const h=d},73327:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(94015);var r=n.n(i);var o=n(23645);var s=n.n(o);var a=n(47102);var l=n(89191);var c=s()(r());c.i(a.Z);c.i(l.Z);c.push([e.id,".jp-Completer-docpanel {\n  overflow: auto;\n}\n.jp-Completer-docpanel.hidden {\n  display: none;\n}\n\n.jp-Completer-list {\n  scrollbar-width: thin;\n}\n\n.jp-Completer-type {\n  display: table-cell;\n  min-width: 24px;\n  vertical-align: middle;\n}\n\n.jp-Completer-monogram {\n  display: table-cell;\n}\n\n.jp-Completer-icon svg {\n  vertical-align: middle;\n}\n\n.jp-Completer-match {\n  max-width: 320px;\n  min-width: 180px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.jp-Completer-typeExtended {\n  padding-left: 40px;\n}","",{version:3,sources:["webpack://./node_modules/@kiteco/jupyterlab-kite/style/index.css"],names:[],mappings:"AAGA;EACE,cAAc;AAChB;AACA;EACE,aAAa;AACf;;AAEA;EACE,qBAAqB;AACvB;;AAEA;EACE,mBAAmB;EACnB,eAAe;EACf,sBAAsB;AACxB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,sBAAsB;AACxB;;AAEA;EACE,gBAAgB;EAChB,gBAAgB;EAChB,gBAAgB;EAChB,uBAAuB;AACzB;;AAEA;EACE,kBAAkB;AACpB",sourcesContent:["@import url('./highlight.css');\n@import url('./logo.css');\n\n.jp-Completer-docpanel {\n  overflow: auto;\n}\n.jp-Completer-docpanel.hidden {\n  display: none;\n}\n\n.jp-Completer-list {\n  scrollbar-width: thin;\n}\n\n.jp-Completer-type {\n  display: table-cell;\n  min-width: 24px;\n  vertical-align: middle;\n}\n\n.jp-Completer-monogram {\n  display: table-cell;\n}\n\n.jp-Completer-icon svg {\n  vertical-align: middle;\n}\n\n.jp-Completer-match {\n  max-width: 320px;\n  min-width: 180px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.jp-Completer-typeExtended {\n  padding-left: 40px;\n}"],sourceRoot:""}]);const u=c},8195:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(94015);var r=n.n(i);var o=n(23645);var s=n.n(o);var a=s()(r());a.push([e.id,".--jp-kite-innernotif-title {\n  margin-bottom: 0.5em;\n  font-size: 1.1em\n}\n\n.--jp-kite-innernotif-body {\n  margin-bottom: 0.3em\n}\n\n.--jp-kite-innernotif-main-msg {\n  margin-bottom: 0.4em\n}\n\n.--jp-kite-innernotif-list {\n  /* override existing jlab list margin */\n  margin: 0;\n}\n\n.--jp-kite-innernotif-no-bullets {\n  /* override existing jlab list margin */\n  padding: 0;\n  padding-left: 1em;\n  list-style-type: none\n}\n\n.--jp-kite-innernotif-li {\n  margin-bottom: 0.2em;\n}\n\n.--jp-kite-innernotif-button {\n  padding: 0.5em 0.7em 0.5em 0.7em;\n  border: solid var(--jp-border-width) var(--jp-border-color2);\n  font-size: var(--jp-ui-font-size0);\n  margin-top: 1px;\n  margin-bottom: 1px;\n  margin-right: 0px;\n  margin-left: 3px;\n  color: var(--jp-ui-font-color1);\n  background-color: var(--jp-layout-color2);\n}\n\n.--jp-kite-buttonbar {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  flex: 0 0 auto;\n  margin-top: 0.4em;\n}\n\n.--jp-kite-buttonbar-spacer {\n  flex-grow: 1;\n  flex-shrink: 1;\n}\n\n.--jp-kite-notifcontainer {\n  width: 410px;\n  right: 7em\n}\n","",{version:3,sources:["webpack://./node_modules/@kiteco/jupyterlab-kite/style/kite_accessible.css"],names:[],mappings:"AAAA;EACE,oBAAoB;EACpB;AACF;;AAEA;EACE;AACF;;AAEA;EACE;AACF;;AAEA;EACE,uCAAuC;EACvC,SAAS;AACX;;AAEA;EACE,uCAAuC;EACvC,UAAU;EACV,iBAAiB;EACjB;AACF;;AAEA;EACE,oBAAoB;AACtB;;AAEA;EACE,gCAAgC;EAChC,4DAA4D;EAC5D,kCAAkC;EAClC,eAAe;EACf,kBAAkB;EAClB,iBAAiB;EACjB,gBAAgB;EAChB,+BAA+B;EAC/B,yCAAyC;AAC3C;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,iBAAiB;EACjB,cAAc;EACd,iBAAiB;AACnB;;AAEA;EACE,YAAY;EACZ,cAAc;AAChB;;AAEA;EACE,YAAY;EACZ;AACF",sourcesContent:[".--jp-kite-innernotif-title {\n  margin-bottom: 0.5em;\n  font-size: 1.1em\n}\n\n.--jp-kite-innernotif-body {\n  margin-bottom: 0.3em\n}\n\n.--jp-kite-innernotif-main-msg {\n  margin-bottom: 0.4em\n}\n\n.--jp-kite-innernotif-list {\n  /* override existing jlab list margin */\n  margin: 0;\n}\n\n.--jp-kite-innernotif-no-bullets {\n  /* override existing jlab list margin */\n  padding: 0;\n  padding-left: 1em;\n  list-style-type: none\n}\n\n.--jp-kite-innernotif-li {\n  margin-bottom: 0.2em;\n}\n\n.--jp-kite-innernotif-button {\n  padding: 0.5em 0.7em 0.5em 0.7em;\n  border: solid var(--jp-border-width) var(--jp-border-color2);\n  font-size: var(--jp-ui-font-size0);\n  margin-top: 1px;\n  margin-bottom: 1px;\n  margin-right: 0px;\n  margin-left: 3px;\n  color: var(--jp-ui-font-color1);\n  background-color: var(--jp-layout-color2);\n}\n\n.--jp-kite-buttonbar {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  flex: 0 0 auto;\n  margin-top: 0.4em;\n}\n\n.--jp-kite-buttonbar-spacer {\n  flex-grow: 1;\n  flex-shrink: 1;\n}\n\n.--jp-kite-notifcontainer {\n  width: 410px;\n  right: 7em\n}\n"],sourceRoot:""}]);const l=a},89191:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(94015);var r=n.n(i);var o=n(23645);var s=n.n(o);var a=s()(r());a.push([e.id,"body[data-jp-theme-light='true'] [data-icon='jupyterlab-kite:completion-icon'] {\n  fill: #11182f;\n  fill-opacity: 60%;\n  transform: scale(0.6);\n}\n\nbody[data-jp-theme-light='false'] [data-icon='jupyterlab-kite:completion-icon'] {\n  fill: #d3d3d3;\n  fill-opacity: 60%;\n  transform: scale(0.6);\n}\n\n[data-icon='jupyterlab-kite:status-icon'] {\n  fill: var(--jp-ui-font-color1);\n}","",{version:3,sources:["webpack://./node_modules/@kiteco/jupyterlab-kite/style/logo.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,iBAAiB;EACjB,qBAAqB;AACvB;;AAEA;EACE,aAAa;EACb,iBAAiB;EACjB,qBAAqB;AACvB;;AAEA;EACE,8BAA8B;AAChC",sourcesContent:["body[data-jp-theme-light='true'] [data-icon='jupyterlab-kite:completion-icon'] {\n  fill: #11182f;\n  fill-opacity: 60%;\n  transform: scale(0.6);\n}\n\nbody[data-jp-theme-light='false'] [data-icon='jupyterlab-kite:completion-icon'] {\n  fill: #d3d3d3;\n  fill-opacity: 60%;\n  transform: scale(0.6);\n}\n\n[data-icon='jupyterlab-kite:status-icon'] {\n  fill: var(--jp-ui-font-color1);\n}"],sourceRoot:""}]);const l=a},51454:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(94015);var r=n.n(i);var o=n(23645);var s=n.n(o);var a=s()(r());a.push([e.id,".kite-statusbar-item {\n  overflow: hidden;\n  white-space: nowrap;\n}\n","",{version:3,sources:["webpack://./node_modules/@kiteco/jupyterlab-kite/style/statusbar.css"],names:[],mappings:"AAAA;EACE,gBAAgB;EAChB,mBAAmB;AACrB",sourcesContent:[".kite-statusbar-item {\n  overflow: hidden;\n  white-space: nowrap;\n}\n"],sourceRoot:""}]);const l=a},48641:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(94015);var r=n.n(i);var o=n(23645);var s=n.n(o);var a=s()(r());a.push([e.id,":root {\n  /* highlight */\n  --jp-editor-mirror-lsp-highlight-background-color: var(--jp-layout-color2);\n  /* diagnostics */\n  --jp-editor-mirror-lsp-diagnostic-decoration-style: dashed;\n  --jp-editor-mirror-lsp-diagnostic-error-decoration-color: var(\n    --jp-error-color1\n  );\n  --jp-editor-mirror-lsp-diagnostic-warning-decoration-color: var(\n    --jp-warn-color1\n  );\n  --jp-editor-mirror-lsp-diagnostic-information-decoration-color: var(\n    --jp-info-color1\n  );\n  --jp-editor-mirror-lsp-diagnostic-hint-decoration-color: var(\n    --jp-success-color1\n  );\n  /* hover */\n  --jp-editor-mirror-lsp-hover-decoration-style: dotted;\n  --jp-editor-mirror-lsp-hover-decoration-color: var(--jp-brand-color1);\n}\n","",{version:3,sources:["webpack://./node_modules/@kiteco/jupyterlab-kite/style/variables/base.css"],names:[],mappings:"AAAA;EACE,cAAc;EACd,0EAA0E;EAC1E,gBAAgB;EAChB,0DAA0D;EAC1D;;GAEC;EACD;;GAEC;EACD;;GAEC;EACD;;GAEC;EACD,UAAU;EACV,qDAAqD;EACrD,qEAAqE;AACvE",sourcesContent:[":root {\n  /* highlight */\n  --jp-editor-mirror-lsp-highlight-background-color: var(--jp-layout-color2);\n  /* diagnostics */\n  --jp-editor-mirror-lsp-diagnostic-decoration-style: dashed;\n  --jp-editor-mirror-lsp-diagnostic-error-decoration-color: var(\n    --jp-error-color1\n  );\n  --jp-editor-mirror-lsp-diagnostic-warning-decoration-color: var(\n    --jp-warn-color1\n  );\n  --jp-editor-mirror-lsp-diagnostic-information-decoration-color: var(\n    --jp-info-color1\n  );\n  --jp-editor-mirror-lsp-diagnostic-hint-decoration-color: var(\n    --jp-success-color1\n  );\n  /* hover */\n  --jp-editor-mirror-lsp-hover-decoration-style: dotted;\n  --jp-editor-mirror-lsp-hover-decoration-color: var(--jp-brand-color1);\n}\n"],sourceRoot:""}]);const l=a},75588:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(94015);var r=n.n(i);var o=n(23645);var s=n.n(o);var a=s()(r());a.push([e.id,".cm-s-abcdef {\n  --jp-editor-mirror-lsp-highlight-background-color: rgba(144, 199, 255, 0.2);\n}\n\n.cm-s-base16-dark {\n  --jp-editor-mirror-lsp-highlight-background-color: rgba(239, 231, 171, 0.2);\n}\n\n.cm-s-base16-light {\n  --jp-editor-mirror-lsp-highlight-background-color: rgba(186, 192, 161, 0.1);\n}\n\n.cm-s-default {\n  --jp-editor-mirror-lsp-highlight-background-color: rgba(18, 69, 255, 0.1);\n}\n\n.cm-s-hopscotch {\n  --jp-editor-mirror-lsp-highlight-background-color: rgba(207, 18, 255, 0.2);\n}\n\n.cm-s-material {\n  --jp-editor-mirror-lsp-highlight-background-color: rgba(18, 255, 58, 0.2);\n}\n\n.cm-s-mbo {\n  --jp-editor-mirror-lsp-highlight-background-color: rgba(239, 231, 171, 0.2);\n}\n\n.cm-s-material {\n  --jp-editor-mirror-lsp-highlight-background-color: rgba(239, 231, 171, 0.2);\n}\n\n.cm-s-mdn-like {\n  --jp-editor-mirror-lsp-highlight-background-color: rgba(18, 69, 255, 0.1);\n}\n\n.cm-s-seti {\n  --jp-editor-mirror-lsp-highlight-background-color: rgba(239, 231, 171, 0.2);\n}\n\n.cm-s-solarized {\n  --jp-editor-mirror-lsp-highlight-background-color: rgba(18, 69, 255, 0.1);\n}\n\n.cm-s-the-matrix {\n  --jp-editor-mirror-lsp-highlight-background-color: rgba(239, 231, 171, 0.1);\n}\n\n.cm-s-xq-light {\n  --jp-editor-mirror-lsp-highlight-background-color: rgba(18, 69, 255, 0.1);\n}\n\n.cm-s-zenburn {\n  --jp-editor-mirror-lsp-highlight-background-color: rgba(239, 231, 171, 0.2);\n}\n","",{version:3,sources:["webpack://./node_modules/@kiteco/jupyterlab-kite/style/variables/cm-themes.css"],names:[],mappings:"AAAA;EACE,2EAA2E;AAC7E;;AAEA;EACE,2EAA2E;AAC7E;;AAEA;EACE,2EAA2E;AAC7E;;AAEA;EACE,yEAAyE;AAC3E;;AAEA;EACE,0EAA0E;AAC5E;;AAEA;EACE,yEAAyE;AAC3E;;AAEA;EACE,2EAA2E;AAC7E;;AAEA;EACE,2EAA2E;AAC7E;;AAEA;EACE,yEAAyE;AAC3E;;AAEA;EACE,2EAA2E;AAC7E;;AAEA;EACE,yEAAyE;AAC3E;;AAEA;EACE,2EAA2E;AAC7E;;AAEA;EACE,yEAAyE;AAC3E;;AAEA;EACE,2EAA2E;AAC7E",sourcesContent:[".cm-s-abcdef {\n  --jp-editor-mirror-lsp-highlight-background-color: rgba(144, 199, 255, 0.2);\n}\n\n.cm-s-base16-dark {\n  --jp-editor-mirror-lsp-highlight-background-color: rgba(239, 231, 171, 0.2);\n}\n\n.cm-s-base16-light {\n  --jp-editor-mirror-lsp-highlight-background-color: rgba(186, 192, 161, 0.1);\n}\n\n.cm-s-default {\n  --jp-editor-mirror-lsp-highlight-background-color: rgba(18, 69, 255, 0.1);\n}\n\n.cm-s-hopscotch {\n  --jp-editor-mirror-lsp-highlight-background-color: rgba(207, 18, 255, 0.2);\n}\n\n.cm-s-material {\n  --jp-editor-mirror-lsp-highlight-background-color: rgba(18, 255, 58, 0.2);\n}\n\n.cm-s-mbo {\n  --jp-editor-mirror-lsp-highlight-background-color: rgba(239, 231, 171, 0.2);\n}\n\n.cm-s-material {\n  --jp-editor-mirror-lsp-highlight-background-color: rgba(239, 231, 171, 0.2);\n}\n\n.cm-s-mdn-like {\n  --jp-editor-mirror-lsp-highlight-background-color: rgba(18, 69, 255, 0.1);\n}\n\n.cm-s-seti {\n  --jp-editor-mirror-lsp-highlight-background-color: rgba(239, 231, 171, 0.2);\n}\n\n.cm-s-solarized {\n  --jp-editor-mirror-lsp-highlight-background-color: rgba(18, 69, 255, 0.1);\n}\n\n.cm-s-the-matrix {\n  --jp-editor-mirror-lsp-highlight-background-color: rgba(239, 231, 171, 0.1);\n}\n\n.cm-s-xq-light {\n  --jp-editor-mirror-lsp-highlight-background-color: rgba(18, 69, 255, 0.1);\n}\n\n.cm-s-zenburn {\n  --jp-editor-mirror-lsp-highlight-background-color: rgba(239, 231, 171, 0.2);\n}\n"],sourceRoot:""}]);const l=a},15848:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(94015);var r=n.n(i);var o=n(23645);var s=n.n(o);var a=s()(r());a.push([e.id,"body[data-jp-theme-light='false'] .cm-s-jupyter {\n  --jp-editor-mirror-lsp-highlight-background-color: rgba(151, 173, 255, 0.3);\n}\n","",{version:3,sources:["webpack://./node_modules/@kiteco/jupyterlab-kite/style/variables/jupyterlab-dark.css"],names:[],mappings:"AAAA;EACE,2EAA2E;AAC7E",sourcesContent:["body[data-jp-theme-light='false'] .cm-s-jupyter {\n  --jp-editor-mirror-lsp-highlight-background-color: rgba(151, 173, 255, 0.3);\n}\n"],sourceRoot:""}]);const l=a},23915:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(94015);var r=n.n(i);var o=n(23645);var s=n.n(o);var a=s()(r());a.push([e.id,"body[data-jp-theme-light='true'] .cm-s-jupyter {\n  --jp-editor-mirror-lsp-highlight-background-color: rgba(18, 69, 255, 0.1);\n}\n","",{version:3,sources:["webpack://./node_modules/@kiteco/jupyterlab-kite/style/variables/jupyterlab-light.css"],names:[],mappings:"AAAA;EACE,yEAAyE;AAC3E",sourcesContent:["body[data-jp-theme-light='true'] .cm-s-jupyter {\n  --jp-editor-mirror-lsp-highlight-background-color: rgba(18, 69, 255, 0.1);\n}\n"],sourceRoot:""}]);const l=a}}]);
//# sourceMappingURL=4020.bf1c63d0bc910a322afa.js.map?v=bf1c63d0bc910a322afa