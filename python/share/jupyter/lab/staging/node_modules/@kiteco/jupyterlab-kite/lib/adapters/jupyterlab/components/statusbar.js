// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
// Based on the @jupyterlab/codemirror-extension statusbar
import React from 'react';
import { VDomRenderer } from '@jupyterlab/apputils';
import { GroupItem, item, TextItem } from '@jupyterlab/statusbar';
import '../../../../style/statusbar.css';
/**
 * StatusBar item.
 */
export class KiteStatus extends VDomRenderer {
    /**
     * Construct a new VDomRenderer for the status item.
     */
    constructor(model) {
        super(model);
        this.addClass(item);
        this.addClass('kite-statusbar-item');
        this.title.caption = 'Kite Status';
    }
    /**
     * Render the status item.
     */
    render() {
        if (!this.model) {
            return null;
        }
        const activeDocument = this.model.activeDocument;
        if (activeDocument && !(activeDocument.file_extension === 'py')) {
            this.setHidden(true);
            return null;
        }
        this.model.fetchKiteInstalled();
        const props = {};
        if (this.model.reloadRequired) {
            props.style = { cursor: 'pointer' };
            props.onClick = () => window.location.reload();
        }
        return (React.createElement(GroupItem, Object.assign({}, props, { spacing: 4, title: this.model.message.tooltip }),
            React.createElement(this.model.icon.react, { top: '2px', kind: 'statusBar' }),
            React.createElement(TextItem, { source: this.model.message.text })));
    }
}
//# sourceMappingURL=statusbar.js.map